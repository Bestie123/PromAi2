<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PromAi PKM - –î–µ—Ä–µ–≤–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ)</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0d1117; color: #c9d1d9; overflow: hidden;
        }
        #canvas { 
            width: 4000px; height: 6000px; position: relative; 
            background: radial-gradient(circle at 50% 50%, #161b22 0%, #0d1117 100%);
            transform-origin: 0 0;
        }
        #viewport { 
            width: 100vw; height: 100vh; overflow: hidden; position: relative;
            cursor: grab; background: #0d1117;
        }
        #viewport.dragging { cursor: grabbing; }
        
        .node {
            position: absolute; background: #21262d; border: 2px solid #30363d;
            border-radius: 12px; padding: 16px; min-width: 280px; max-width: 320px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.4); transition: all 0.3s ease;
        }
        .node:hover { transform: scale(1.05); box-shadow: 0 12px 48px rgba(0,0,0,0.6); }
        
        .critical { border-color: #f85149; background: linear-gradient(135deg, #21262d 0%, #2d1b1f 100%); }
        .important { border-color: #f79009; background: linear-gradient(135deg, #21262d 0%, #2d2419 100%); }
        .flexible { border-color: #3fb950; background: linear-gradient(135deg, #21262d 0%, #1b2d1f 100%); }
        .question { border-color: #58a6ff; background: linear-gradient(135deg, #21262d 0%, #1b2332 100%); }
        .rejected { border-color: #8b949e; background: linear-gradient(135deg, #21262d 0%, #2d2d2d 100%); opacity: 0.7; }
        
        .badge {
            display: inline-block; padding: 4px 8px; border-radius: 6px; font-size: 11px;
            font-weight: bold; margin-bottom: 8px;
        }
        .badge.critical { background: #f85149; color: #fff; }
        .badge.important { background: #f79009; color: #fff; }
        .badge.flexible { background: #3fb950; color: #fff; }
        .badge.question { background: #58a6ff; color: #fff; }
        .badge.rejected { background: #8b949e; color: #fff; }
        
        .node h3 { font-size: 14px; margin-bottom: 8px; color: #f0f6fc; }
        .node p { font-size: 12px; line-height: 1.4; margin-bottom: 8px; color: #8b949e; }
        .details { font-size: 11px; color: #6e7681; }
        
        .connection {
            position: absolute; background: #30363d; height: 2px; transform-origin: left center;
            z-index: -1;
        }
        .connection.critical { background: #f85149; }
        .connection.important { background: #f79009; }
        .connection.flexible { background: #3fb950; }
        .connection.question { background: #58a6ff; }
        .connection.rejected { background: #8b949e; }
        
        .compatibility-line {
            transition: opacity 0.3s ease;
        }
        .compatibility-line:hover {
            opacity: 1 !important;
        }
        
        .controls {
            position: fixed; top: 20px; left: 20px; z-index: 1000;
            background: rgba(33, 38, 45, 0.9); padding: 12px; border-radius: 8px;
            border: 1px solid #30363d;
        }
        .controls button {
            background: #238636; color: #fff; border: none; padding: 8px 12px;
            border-radius: 6px; margin-right: 8px; cursor: pointer; font-size: 12px;
        }
        .controls button:hover { background: #2ea043; }
        
        .zoom-info {
            position: fixed; bottom: 20px; right: 20px; z-index: 1000;
            background: rgba(33, 38, 45, 0.9); padding: 8px 12px; border-radius: 6px;
            border: 1px solid #30363d; font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="controls">
        <button onclick="resetView()">–°–±—Ä–æ—Å</button>
        <button onclick="centerView()">–¶–µ–Ω—Ç—Ä</button>
        <span style="color: #8b949e; margin-left: 12px;">–ö–æ–ª–µ—Å–æ –º—ã—à–∏ - –∑—É–º | –õ–ö–ú - –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ</span>
    </div>
    
    <div class="zoom-info">
        –ó—É–º: <span id="zoomLevel">100%</span>
    </div>
    
    <div id="viewport">
        <div id="canvas"></div>
    </div>

    <script>
        // –ú–∞—Ç—Ä–∏—Ü–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
        const compatibility = {
            'modular-arch,monolith-arch': '–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ',
            'all-blocks,mixed-model': '–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ',
            'uuid-v4,uuid-v7': '–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å',
            'flat-graph,page-hierarchy': '–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ',
            'yjs-choice,automerge-choice': '–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å',
            'json-storage,sqlite-storage': '–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å',
            'json-storage,hybrid-storage': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'sqlite-storage,hybrid-storage': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'markdown-entities,wysiwyg-editor': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'crdt-refs,hybrid-refs': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'react-choice,vue-choice': '–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å',
            'react-choice,svelte-choice': '–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å',
            'vue-choice,svelte-choice': '–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å',
            'virtual-scrolling,lazy-loading': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'all-workers,search-workers': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'tantivy-search,lunr-search': '–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å',
            'webworker-plugins,iframe-plugins': '–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å',
            'webworker-plugins,capability-plugins': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'iframe-plugins,capability-plugins': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'separate-log,crdt-log': '–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ',
            'json-schema,typescript-schema': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'json-schema,zod-schema': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'typescript-schema,zod-schema': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'e2ee-ready,e2ee-later': '–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ',
            'render-detection,creation-detection': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'undo-redo,transclusion': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'undo-redo,live-updates': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'transclusion,live-updates': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'continuous-save,event-save': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'any-collapse,list-collapse': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'persistent-aliases,auto-aliases': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'native-media,plugin-media': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'full-tables,simple-tables': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å'
        };

        const nodes = [
            // 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
            {
                id: 'root-question', x: 3000, y: 100, type: 'question',
                title: '‚ùì –ö–∞–∫—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –≤—ã–±—Ä–∞—Ç—å?',
                description: '–û—Å–Ω–æ–≤–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è PKM —Å–∏—Å—Ç–µ–º—ã',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –ú–æ–¥—É–ª—å–Ω–∞—è | –ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è',
                children: ['modular-arch', 'monolith-arch']
            },
            {
                id: 'modular-arch', x: 2700, y: 300, type: 'critical',
                title: '‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞',
                description: '–Ø–¥—Ä–æ –æ—Ç–¥–µ–ª–µ–Ω–æ –æ—Ç UI –∏ –ø–ª–∞–≥–∏–Ω–æ–≤',
                details: '‚ûï –õ–µ–≥–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –∑–∞–º–µ–Ω–∞ UI ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å',
                children: ['block-model-question']
            },
            {
                id: 'monolith-arch', x: 3300, y: 300, type: 'rejected',
                title: '‚ùå –ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è',
                description: '–í—Å—ë –≤ –æ–¥–Ω–æ–º –º–æ–¥—É–ª–µ',
                details: '‚ûï –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–æ—Å—Ç–∞',
                children: []
            },

            // 2. –ë–ª–æ—á–Ω–∞—è –º–æ–¥–µ–ª—å
            {
                id: 'block-model-question', x: 2700, y: 500, type: 'question',
                title: '‚ùì –ë–ª–æ—á–Ω–∞—è –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö?',
                description: '–í—Å—ë —è–≤–ª—è–µ—Ç—Å—è –±–ª–æ–∫–∞–º–∏ —Å UUID',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –í—Å—ë –±–ª–æ–∫–∏ | –°–º–µ—à–∞–Ω–Ω–∞—è –º–æ–¥–µ–ª—å',
                children: ['all-blocks', 'mixed-model']
            },
            {
                id: 'all-blocks', x: 2400, y: 700, type: 'critical',
                title: '‚úÖ –í—Å—ë - –±–ª–æ–∫–∏',
                description: '–ï–¥–∏–Ω–∞—è –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö, UUID –¥–ª—è –≤—Å–µ—Ö',
                details: '‚ûï –ï–¥–∏–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, —Ä–µ–Ω–¥–µ—Ä ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤',
                children: ['uuid-question']
            },
            {
                id: 'mixed-model', x: 3000, y: 700, type: 'rejected',
                title: '‚ùå –°–º–µ—à–∞–Ω–Ω–∞—è –º–æ–¥–µ–ª—å',
                description: '–ë–ª–æ–∫–∏ + –æ—Å–æ–±—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏',
                details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ ‚ûñ –õ–æ–º–∞—é—Ç—Å—è refs, –ø–æ–∏—Å–∫, –ø–ª–∞–≥–∏–Ω—ã',
                children: []
            },

            // 3. UUID —Å–∏—Å—Ç–µ–º–∞
            {
                id: 'uuid-question', x: 2400, y: 900, type: 'question',
                title: '‚ùì UUID v4 –∏–ª–∏ v7?',
                description: '–í—ã–±–æ—Ä –≤–µ—Ä—Å–∏–∏ UUID –¥–ª—è –±–ª–æ–∫–æ–≤',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: UUID v4 | UUID v7',
                children: ['uuid-v4', 'uuid-v7']
            },
            {
                id: 'uuid-v4', x: 2100, y: 1100, type: 'critical',
                title: 'üé≤ UUID v4',
                description: '–°–ª—É—á–∞–π–Ω—ã–µ UUID',
                details: '‚ûï –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–µ–º ‚ûñ –ù–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏',
                children: ['hierarchy-question']
            },
            {
                id: 'uuid-v7', x: 2700, y: 1100, type: 'important',
                title: '‚è∞ UUID v7',
                description: 'UUID —Å timestamp',
                details: '‚ûï –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ ‚ûñ –ù–æ–≤—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç',
                children: ['hierarchy-question']
            },

            // 4. –ò–µ—Ä–∞—Ä—Ö–∏—è –±–ª–æ–∫–æ–≤
            {
                id: 'hierarchy-question', x: 2400, y: 1300, type: 'question',
                title: '‚ùì –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–ª–æ–∫–æ–≤?',
                description: '–ò–µ—Ä–∞—Ä—Ö–∏—è vs –ø–ª–æ—Å–∫–∏–π –≥—Ä–∞—Ñ',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –ü–ª–æ—Å–∫–∏–π –≥—Ä–∞—Ñ | –ò–µ—Ä–∞—Ä—Ö–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü',
                children: ['flat-graph', 'page-hierarchy']
            },
            {
                id: 'flat-graph', x: 2100, y: 1500, type: 'critical',
                title: 'üï∏Ô∏è –ü–ª–æ—Å–∫–∏–π –≥—Ä–∞—Ñ',
                description: '–í—Å–µ –±–ª–æ–∫–∏ —Ä–∞–≤–Ω–æ–ø—Ä–∞–≤–Ω—ã',
                details: '‚ûï –ì–∏–±–∫–∏–µ transclusion –∏ queries ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏',
                children: ['crdt-question']
            },
            {
                id: 'page-hierarchy', x: 2700, y: 1500, type: 'rejected',
                title: '‚ùå –ò–µ—Ä–∞—Ä—Ö–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü',
                description: '–ë–ª–æ–∫–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º',
                details: '‚ûï –ü—Ä–æ—Å—Ç–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è ‚ûñ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å',
                children: []
            },

            // 5. CRDT —Å–∏—Å—Ç–µ–º–∞
            {
                id: 'crdt-question', x: 2100, y: 1700, type: 'question',
                title: '‚ùì –ö–∞–∫—É—é CRDT –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?',
                description: '–°–∏—Å—Ç–µ–º–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: Yjs | Automerge',
                children: ['yjs-choice', 'automerge-choice']
            },
            {
                id: 'yjs-choice', x: 1800, y: 1900, type: 'critical',
                title: '‚úÖ Yjs',
                description: '–ë—ã—Å—Ç—Ä–∞—è, –ø–æ–ø—É–ª—è—Ä–Ω–∞—è CRDT',
                details: '‚ûï –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, WebRTC ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å API',
                children: ['storage-question']
            },
            {
                id: 'automerge-choice', x: 2400, y: 1900, type: 'important',
                title: '‚ö° Automerge',
                description: '–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è CRDT',
                details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ API ‚ûñ –ú–µ–¥–ª–µ–Ω–Ω–µ–µ Yjs',
                children: ['storage-question']
            },

            // 6. –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
            {
                id: 'storage-question', x: 2100, y: 2100, type: 'question',
                title: '‚ùì –ö–∞–∫ —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ?',
                description: '–§–æ—Ä–º–∞—Ç –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: JSON | SQLite | –ì–∏–±—Ä–∏–¥',
                children: ['json-storage', 'sqlite-storage', 'hybrid-storage']
            },
            {
                id: 'json-storage', x: 1500, y: 2300, type: 'critical',
                title: '‚úÖ JSON —Ñ–∞–π–ª—ã',
                description: '–ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç',
                details: '‚ûï –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å, —Å–∫—Ä–∏–ø—Ç—ã ‚ûñ –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã',
                children: ['rich-text-question']
            },
            {
                id: 'sqlite-storage', x: 2100, y: 2300, type: 'important',
                title: '‚ö° SQLite',
                description: '–†–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –ë–î',
                details: '‚ûï –ë—ã—Å—Ç—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã ‚ûñ –ù–µ—á–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç',
                children: ['rich-text-question']
            },
            {
                id: 'hybrid-storage', x: 2700, y: 2300, type: 'flexible',
                title: 'üîÑ –ì–∏–±—Ä–∏–¥–Ω—ã–π',
                description: 'JSON + SQLite –∏–Ω–¥–µ–∫—Å—ã',
                details: '‚ûï –õ—É—á—à–µ–µ –∏–∑ –¥–≤—É—Ö –º–∏—Ä–æ–≤ ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å',
                children: ['rich-text-question']
            },

            // 7. Rich Text
            {
                id: 'rich-text-question', x: 2100, y: 2500, type: 'question',
                title: '‚ùì Rich Text —Å–∏—Å—Ç–µ–º–∞?',
                description: '–ë–æ–≥–∞—Ç—ã–π —Ç–µ–∫—Å—Ç –≤ –±–ª–æ–∫–∞—Ö',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: Markdown+—Å—É—â–Ω–æ—Å—Ç–∏ | WYSIWYG',
                children: ['markdown-entities', 'wysiwyg-editor']
            },
            {
                id: 'markdown-entities', x: 1800, y: 2700, type: 'critical',
                title: 'üìù Markdown + —Å—É—â–Ω–æ—Å—Ç–∏',
                description: 'Markdown + —Å—Å—ã–ª–∫–∏/–±–ª–æ–∫–∏',
                details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞, —á–∏—Ç–∞–µ–º–æ—Å—Ç—å ‚ûñ –ö—Ä–∏–≤–∞—è –æ–±—É—á–µ–Ω–∏—è',
                children: ['refs-question']
            },
            {
                id: 'wysiwyg-editor', x: 2400, y: 2700, type: 'important',
                title: '‚úèÔ∏è WYSIWYG',
                description: '–í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä',
                details: '‚ûï –£–¥–æ–±—Å—Ç–≤–æ ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏',
                children: ['refs-question']
            },

            // 8. –°–∏—Å—Ç–µ–º–∞ —Å—Å—ã–ª–æ–∫
            {
                id: 'refs-question', x: 2100, y: 2900, type: 'question',
                title: '‚ùì –ö–∞–∫ —Ö—Ä–∞–Ω–∏—Ç—å —Å—Å—ã–ª–∫–∏?',
                description: 'Refs –∏ backlinks –≤ CRDT',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: CRDT —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ | –ì–∏–±—Ä–∏–¥',
                children: ['crdt-refs', 'hybrid-refs']
            },
            {
                id: 'crdt-refs', x: 1800, y: 3100, type: 'critical',
                title: 'üîó CRDT —Å—Ç—Ä—É–∫—Ç—É—Ä–∞',
                description: '–°—Å—ã–ª–∫–∏ –∫–∞–∫ CRDT –æ–±—ä–µ–∫—Ç—ã',
                details: '‚ûï –ë—ã—Å—Ç—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å',
                children: ['ui-question']
            },
            {
                id: 'hybrid-refs', x: 2400, y: 3100, type: 'important',
                title: 'üîÑ –ì–∏–±—Ä–∏–¥',
                description: '–¢–µ–∫—Å—Ç + CRDT –∏–Ω–¥–µ–∫—Å',
                details: '‚ûï –ë–∞–ª–∞–Ω—Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏/–ø—Ä–æ—Å—Ç–æ—Ç—ã',
                children: ['ui-question']
            },

            // 9. UI —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
            {
                id: 'ui-question', x: 2100, y: 3300, type: 'question',
                title: '‚ùì UI —Ñ—Ä–µ–π–º–≤–æ—Ä–∫?',
                description: '–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π UI',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: React | Vue | Svelte',
                children: ['react-choice', 'vue-choice', 'svelte-choice']
            },
            {
                id: 'react-choice', x: 1500, y: 3500, type: 'flexible',
                title: '‚öõÔ∏è React',
                description: '–ü–æ–ø—É–ª—è—Ä–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫',
                details: '‚ûï –≠–∫–æ—Å–∏—Å—Ç–µ–º–∞ ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å',
                children: ['performance-question']
            },
            {
                id: 'vue-choice', x: 2100, y: 3500, type: 'flexible',
                title: 'üü¢ Vue',
                description: '–ü—Ä–æ—Å—Ç–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫',
                details: '‚ûï –õ–µ–≥–∫–æ—Å—Ç—å –∏–∑—É—á–µ–Ω–∏—è ‚ûñ –ú–µ–Ω—å—à–µ –±–∏–±–ª–∏–æ—Ç–µ–∫',
                children: ['performance-question']
            },
            {
                id: 'svelte-choice', x: 2700, y: 3500, type: 'flexible',
                title: 'üî• Svelte',
                description: '–ö–æ–º–ø–∏–ª–∏—Ä—É–µ–º—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫',
                details: '‚ûï –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å ‚ûñ –ú–µ–Ω—å—à–µ —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞',
                children: ['performance-question']
            },

            // 10. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
            {
                id: 'performance-question', x: 2100, y: 3700, type: 'question',
                title: '‚ùì Virtual scrolling?',
                description: '–î–ª—è 100k+ –±–ª–æ–∫–æ–≤',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: Virtual scrolling | Lazy loading',
                children: ['virtual-scrolling', 'lazy-loading']
            },
            {
                id: 'virtual-scrolling', x: 1800, y: 3900, type: 'critical',
                title: 'üìú Virtual scrolling',
                description: '–†–µ–Ω–¥–µ—Ä —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã—Ö',
                details: '‚ûï 100k+ –±–ª–æ–∫–æ–≤ ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏',
                children: ['web-workers-question']
            },
            {
                id: 'lazy-loading', x: 2400, y: 3900, type: 'important',
                title: '‚ö° Lazy loading',
                description: '–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é',
                details: '‚ûï –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç ‚ûñ –ó–∞–¥–µ—Ä–∂–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏',
                children: ['web-workers-question']
            },

            // 11. Web Workers
            {
                id: 'web-workers-question', x: 2100, y: 4100, type: 'question',
                title: '‚ùì Web Workers –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π?',
                description: '–ü–æ–∏—Å–∫, –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è, –≤—ã—á–∏—Å–ª–µ–Ω–∏—è',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –í—Å–µ –≤ Workers | –¢–æ–ª—å–∫–æ –ø–æ–∏—Å–∫',
                children: ['all-workers', 'search-workers']
            },
            {
                id: 'all-workers', x: 1800, y: 4300, type: 'critical',
                title: 'üë∑ –í—Å–µ –≤ Workers',
                description: '–ü–æ–∏—Å–∫, –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è, CRDT',
                details: '‚ûï –û—Ç–∑—ã–≤—á–∏–≤—ã–π UI ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å API',
                children: ['search-question']
            },
            {
                id: 'search-workers', x: 2400, y: 4300, type: 'important',
                title: 'üîç –¢–æ–ª—å–∫–æ –ø–æ–∏—Å–∫',
                description: '–ü–æ–∏—Å–∫ –≤ Workers',
                details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ ‚ûñ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å',
                children: ['search-question']
            },

            // 12. –ü–æ–∏—Å–∫
            {
                id: 'search-question', x: 2100, y: 4500, type: 'question',
                title: '‚ùì –ü–æ–∏—Å–∫–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞?',
                description: 'Full-text search',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: Tantivy WASM | Lunr.js',
                children: ['tantivy-search', 'lunr-search']
            },
            {
                id: 'tantivy-search', x: 1800, y: 4700, type: 'important',
                title: 'ü¶Ä Tantivy WASM',
                description: '–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –Ω–∞ Rust',
                details: '‚ûï –í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å ‚ûñ –ë–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä',
                children: ['plugin-question']
            },
            {
                id: 'lunr-search', x: 2400, y: 4700, type: 'flexible',
                title: 'üîç Lunr.js',
                description: '–õ–µ–≥–∫–∏–π JS –ø–æ–∏—Å–∫',
                details: '‚ûï –ú–∞–ª—ã–π —Ä–∞–∑–º–µ—Ä ‚ûñ –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –Ω–∞ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö',
                children: ['plugin-question']
            },

            // 13. –ü–ª–∞–≥–∏–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
            {
                id: 'plugin-question', x: 2100, y: 4900, type: 'question',
                title: '‚ùì –ò–∑–æ–ª—è—Ü–∏—è –ø–ª–∞–≥–∏–Ω–æ–≤?',
                description: '–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–ª–∞–≥–∏–Ω–æ–≤',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: Web Workers | Iframe | Capability',
                children: ['webworker-plugins', 'iframe-plugins', 'capability-plugins']
            },
            {
                id: 'webworker-plugins', x: 1500, y: 5100, type: 'critical',
                title: 'üë∑ Web Workers',
                description: '–ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è',
                details: '‚ûï –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å',
                children: ['event-sourcing-question']
            },
            {
                id: 'iframe-plugins', x: 2100, y: 5100, type: 'important',
                title: 'üñºÔ∏è Iframe Sandbox',
                description: '–ò–∑–æ–ª—è—Ü–∏—è —á–µ—Ä–µ–∑ iframe',
                details: '‚ûï –•–æ—Ä–æ—à–∞—è –∏–∑–æ–ª—è—Ü–∏—è ‚ûñ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è DOM',
                children: ['event-sourcing-question']
            },
            {
                id: 'capability-plugins', x: 2700, y: 5100, type: 'flexible',
                title: 'üîê Capability-based',
                description: '–°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π',
                details: '‚ûï –ì–∏–±–∫–æ—Å—Ç—å ‚ûñ –ù—É–∂–Ω–∞ —Å–≤–æ—è —Å–∏—Å—Ç–µ–º–∞',
                children: ['event-sourcing-question']
            },

            // 14. Event Sourcing
            {
                id: 'event-sourcing-question', x: 2100, y: 5300, type: 'question',
                title: '‚ùì Event Sourcing?',
                description: 'Immutable ops log',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –û—Ç–¥–µ–ª—å–Ω—ã–π –ª–æ–≥ | –í CRDT',
                children: ['separate-log', 'crdt-log']
            },
            {
                id: 'separate-log', x: 1800, y: 5500, type: 'critical',
                title: 'üìÑ –û—Ç–¥–µ–ª—å–Ω—ã–π –ª–æ–≥',
                description: '–û–ø–µ—Ä–∞—Ü–∏–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ',
                details: '‚ûï –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç ‚ûñ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö',
                children: ['schema-question']
            },
            {
                id: 'crdt-log', x: 2400, y: 5500, type: 'important',
                title: 'üîÑ –í CRDT',
                description: '–õ–æ–≥ –∫–∞–∫ —á–∞—Å—Ç—å CRDT',
                details: '‚ûï –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–ø–ª–µ—è',
                children: ['schema-question']
            },

            // 15. Schema –≤–∞–ª–∏–¥–∞—Ü–∏—è
            {
                id: 'schema-question', x: 2100, y: 5700, type: 'question',
                title: '‚ùì Schema –≤–∞–ª–∏–¥–∞—Ü–∏—è?',
                description: 'Runtime –≤–∞–ª–∏–¥–∞—Ü–∏—è',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: JSON Schema | TypeScript | Zod',
                children: ['json-schema', 'typescript-schema', 'zod-schema']
            },
            {
                id: 'json-schema', x: 1500, y: 5900, type: 'critical',
                title: 'üìù JSON Schema',
                description: '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è',
                details: '‚ûï –°—Ç–∞–Ω–¥–∞—Ä—Ç ‚ûñ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å',
                children: ['e2ee-question']
            },
            {
                id: 'typescript-schema', x: 2100, y: 5900, type: 'important',
                title: 'üî∑ TypeScript',
                description: '–¢–∏–ø—ã –∫–∞–∫ —Å—Ö–µ–º—ã',
                details: '‚ûï –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–æ–¥–æ–º ‚ûñ –ù–µ—Ç runtime –≤–∞–ª–∏–¥–∞—Ü–∏–∏',
                children: ['e2ee-question']
            },
            {
                id: 'zod-schema', x: 2700, y: 5900, type: 'flexible',
                title: '‚öôÔ∏è Zod',
                description: 'TypeScript-first –≤–∞–ª–∏–¥–∞—Ü–∏—è',
                details: '‚ûï Runtime + compile-time ‚ûñ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å',
                children: ['e2ee-question']
            },

            // 16. E2EE –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å
            {
                id: 'e2ee-question', x: 2100, y: 6100, type: 'question',
                title: '‚ùì E2EE –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å?',
                description: '–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –° –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è | –ü–æ—Ç–æ–º',
                children: ['e2ee-ready', 'e2ee-later']
            },
            {
                id: 'e2ee-ready', x: 1800, y: 6300, type: 'critical',
                title: 'üîí –° –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è',
                description: '–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ E2EE',
                details: '‚ûï –ù–∏–∫–∞–∫–∏—Ö breaking changes ‚ûñ –£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ',
                children: ['circular-detection-question']
            },
            {
                id: 'e2ee-later', x: 2400, y: 6300, type: 'important',
                title: '‚è≥ –ü–æ—Ç–æ–º',
                description: '–î–æ–±–∞–≤–∏–º –ø–æ–∑–∂–µ',
                details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Å—Ç–∞—Ä—Ç–∞ ‚ûñ –°–ª–æ–∂–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è',
                children: ['circular-detection-question']
            },

            // 17. Circular Detection
            {
                id: 'circular-detection-question', x: 2100, y: 6500, type: 'question',
                title: '‚ùì –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ü–∏–∫–ª–æ–≤?',
                description: 'Circular Reference Detection',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –ü—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–µ | –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏',
                children: ['render-detection', 'creation-detection']
            },
            {
                id: 'render-detection', x: 1800, y: 6700, type: 'critical',
                title: 'üîÑ –ü—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–µ',
                description: '–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏',
                details: '‚ûï –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å ‚ûñ –ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã',
                children: ['ux-features-question']
            },
            {
                id: 'creation-detection', x: 2400, y: 6700, type: 'important',
                title: '‚öôÔ∏è –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏',
                description: '–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Ü–∏–∫–ª–æ–≤',
                details: '‚ûï –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚ûñ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è UX',
                children: ['ux-features-question']
            },

            // 18. UX —Ñ–∏—á–∏
            {
                id: 'ux-features-question', x: 2100, y: 6900, type: 'question',
                title: '‚ùì –ö—Ä–∏—Ç–∏—á–Ω—ã–µ UX —Ñ–∏—á–∏?',
                description: '–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: Undo/Redo | Transclusion | Live updates',
                children: ['undo-redo', 'transclusion', 'live-updates']
            },
            {
                id: 'undo-redo', x: 1500, y: 7100, type: 'important',
                title: '‚Ü©Ô∏è Undo/Redo',
                description: '–ò—Å—Ç–æ—Ä–∏—è ‚â•1000 —à–∞–≥–æ–≤',
                details: '‚ûï –°–º–µ–ª–æ–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å —Å CRDT',
                children: ['autosave-question']
            },
            {
                id: 'transclusion', x: 2100, y: 7100, type: 'critical',
                title: 'üîÑ Transclusion',
                description: '–ñ–∏–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –±–ª–æ–∫–æ–≤',
                details: '‚ûï –ì–ª–∞–≤–Ω–∞—è —Å—É–ø–µ—Ä—Å–∏–ª–∞ PKM ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ü–∏–∫–ª–æ–≤',
                children: ['autosave-question']
            },
            {
                id: 'live-updates', x: 2700, y: 7100, type: 'important',
                title: '‚ö° Live updates',
                description: '–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏',
                details: '‚ûï –ñ–∏–≤–æ–π –¥–æ–∫—É–º–µ–Ω—Ç ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–Ω–¥–µ—Ä–∞',
                children: ['autosave-question']
            },

            // 19. –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
            {
                id: 'autosave-question', x: 2100, y: 7300, type: 'question',
                title: '‚ùì –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ?',
                description: '–ö–∞–∂–¥—ã–µ 3-5 —Å–µ–∫ + snapshots',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –ü–æ—Å—Ç–æ—è–Ω–Ω–æ | –ü–æ —Å–æ–±—ã—Ç–∏—è–º',
                children: ['continuous-save', 'event-save']
            },
            {
                id: 'continuous-save', x: 1800, y: 7500, type: 'critical',
                title: '‚è∞ –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ',
                description: '–ö–∞–∂–¥—ã–µ 3-5 —Å–µ–∫',
                details: '‚ûï –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å –¥–∞–Ω–Ω—ã–µ ‚ûñ –ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã',
                children: ['collapse-question']
            },
            {
                id: 'event-save', x: 2400, y: 7500, type: 'important',
                title: '‚ö° –ü–æ —Å–æ–±—ã—Ç–∏—è–º',
                description: '–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö + —Ç–∞–π–º–µ—Ä',
                details: '‚ûï –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ ‚ûñ –†–∏—Å–∫ –ø–æ—Ç–µ—Ä–∏',
                children: ['collapse-question']
            },

            // 20. –ö–æ–ª–ª–∞–ø—Å –±–ª–æ–∫–æ–≤
            {
                id: 'collapse-question', x: 2100, y: 7700, type: 'question',
                title: '‚ùì –ö–æ–ª–ª–∞–ø—Å –±–ª–æ–∫–æ–≤?',
                description: '–°–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ + Bullet threading',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –õ—é–±—ã–µ –±–ª–æ–∫–∏ | –¢–æ–ª—å–∫–æ —Å–ø–∏—Å–∫–∏',
                children: ['any-collapse', 'list-collapse']
            },
            {
                id: 'any-collapse', x: 1800, y: 7900, type: 'critical',
                title: 'üìÅ –õ—é–±—ã–µ –±–ª–æ–∫–∏',
                description: '–ö–æ–ª–ª–∞–ø—Å –ª—é–±–æ–≥–æ –±–ª–æ–∫–∞ —Å –¥–µ—Ç—å–º–∏',
                details: '‚ûï –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å UI',
                children: ['aliases-question']
            },
            {
                id: 'list-collapse', x: 2400, y: 7900, type: 'important',
                title: 'üìã –¢–æ–ª—å–∫–æ —Å–ø–∏—Å–∫–∏',
                description: '–ö–æ–ª–ª–∞–ø—Å —Ç–æ–ª—å–∫–æ —Å–ø–∏—Å–∫–æ–≤',
                details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ‚ûñ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å',
                children: ['aliases-question']
            },

            // 21. –ê–ª–∏–∞—Å—ã
            {
                id: 'aliases-question', x: 2100, y: 8100, type: 'question',
                title: '‚ùì –ê–ª–∏–∞—Å—ã [[Person/Ivan]]?',
                description: '–ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–µ —Å—Å—ã–ª–∫–∏',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ | –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è',
                children: ['persistent-aliases', 'auto-aliases']
            },
            {
                id: 'persistent-aliases', x: 1800, y: 8300, type: 'critical',
                title: 'üè∑Ô∏è –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ',
                description: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –∞–ª–∏–∞—Å—ã',
                details: '‚ûï –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å ‚ûñ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞',
                children: ['media-question']
            },
            {
                id: 'auto-aliases', x: 2400, y: 8300, type: 'important',
                title: '‚öôÔ∏è –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è',
                description: '–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–∏–∞—Å—ã',
                details: '‚ûï –ù–∏–∫–∞–∫–æ–π —Ä–∞–±–æ—Ç—ã ‚ûñ –ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å',
                children: ['media-question']
            },

            // 22. –ú–µ–¥–∏–∞ –±–ª–æ–∫–∏
            {
                id: 'media-question', x: 2100, y: 8500, type: 'question',
                title: '‚ùì –ú–µ–¥–∏–∞ –±–ª–æ–∫–∏?',
                description: '–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –≤–∏–¥–µ–æ, –∞—É–¥–∏–æ',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –ù–∞—Ç–∏–≤–Ω—ã–µ | –ü–ª–∞–≥–∏–Ω—ã',
                children: ['native-media', 'plugin-media']
            },
            {
                id: 'native-media', x: 1800, y: 8700, type: 'critical',
                title: 'üñºÔ∏è –ù–∞—Ç–∏–≤–Ω—ã–µ',
                description: '–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–µ–¥–∏–∞',
                details: '‚ûï –õ—É—á—à–∏–π UX ‚ûñ –£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ —è–¥—Ä–∞',
                children: ['tables-question']
            },
            {
                id: 'plugin-media', x: 2400, y: 8700, type: 'important',
                title: 'üîå –ü–ª–∞–≥–∏–Ω—ã',
                description: '–ú–µ–¥–∏–∞ —á–µ—Ä–µ–∑ –ø–ª–∞–≥–∏–Ω—ã',
                details: '‚ûï –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å ‚ûñ –ù–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å',
                children: ['tables-question']
            },

            // 23. –¢–∞–±–ª–∏—Ü—ã
            {
                id: 'tables-question', x: 2100, y: 8900, type: 'question',
                title: '‚ùì –¢–∞–±–ª–∏—Ü—ã —Å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ–º?',
                description: '–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ç–∞–±–ª–∏—Ü',
                details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –ü–æ–ª–Ω—ã–µ | –ü—Ä–æ—Å—Ç—ã–µ',
                children: ['full-tables', 'simple-tables']
            },
            {
                id: 'full-tables', x: 1800, y: 9100, type: 'critical',
                title: 'üìã –ü–æ–ª–Ω—ã–µ',
                description: '–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —è—á–µ–µ–∫ + –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞',
                details: '‚ûï –ú–æ—â–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ ‚ûñ –û–≥—Ä–æ–º–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å',
                children: []
            },
            {
                id: 'simple-tables', x: 2400, y: 9100, type: 'important',
                title: 'üìã –ü—Ä–æ—Å—Ç—ã–µ',
                description: '–û–±—ã—á–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã',
                details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ‚ûñ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏',
                children: []
            }
        ];

        let scale = 0.3;
        let translateX = 200;
        let translateY = 50;
        let isDragging = false;
        let lastMouseX = 0;
        let lastMouseY = 0;

        function createNode(node) {
            const div = document.createElement('div');
            div.className = `node ${node.type}`;
            div.style.left = node.x + 'px';
            div.style.top = node.y + 'px';
            
            const badge = node.type === 'critical' ? '–ö–†–ò–¢–ò–ß–ù–û' : 
                         node.type === 'important' ? '–í–ê–ñ–ù–û' : 
                         node.type === 'flexible' ? '–ì–ò–ë–ö–û' :
                         node.type === 'question' ? '–í–û–ü–†–û–°' : '–û–¢–ö–õ–û–ù–ï–ù–û';
            
            div.innerHTML = `
                <div class="badge ${node.type}">${badge}</div>
                <h3>${node.title}</h3>
                <p>${node.description}</p>
                <div class="details">${node.details}</div>
            `;
            
            return div;
        }

        function createConnection(from, to, type) {
            const line = document.createElement('div');
            line.className = `connection ${type}`;
            
            const dx = to.x - from.x;
            const dy = to.y - from.y;
            const length = Math.sqrt(dx * dx + dy * dy);
            const angle = Math.atan2(dy, dx) * 180 / Math.PI;
            
            line.style.left = (from.x + 160) + 'px';
            line.style.top = (from.y + 60) + 'px';
            line.style.width = length + 'px';
            line.style.transform = `rotate(${angle}deg)`;
            
            return line;
        }

        function createCompatibilityLine(node1, node2, compatibility) {
            const line = document.createElement('div');
            line.className = 'compatibility-line';
            line.style.position = 'absolute';
            line.style.height = '2px';
            line.style.background = compatibility === '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å' ? '#3fb950' : 
                                   compatibility === '–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å' ? '#f79009' : '#f85149';
            line.style.opacity = '0.6';
            line.style.zIndex = '-2';
            
            const startX = Math.min(node1.x, node2.x) + 160;
            const endX = Math.max(node1.x, node2.x) + 160;
            const y = node1.y + 60;
            
            line.style.left = startX + 'px';
            line.style.top = y + 'px';
            line.style.width = (endX - startX) + 'px';
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –º–µ—Ç–∫–∏
            const label = document.createElement('div');
            label.style.position = 'absolute';
            label.style.left = ((endX - startX) / 2 - 30) + 'px';
            label.style.top = '-20px';
            label.style.fontSize = '10px';
            label.style.color = '#8b949e';
            label.style.background = '#0d1117';
            label.style.padding = '2px 6px';
            label.style.borderRadius = '4px';
            label.style.whiteSpace = 'nowrap';
            label.textContent = compatibility;
            
            line.appendChild(label);
            return line;
        }

        function initCanvas() {
            const canvas = document.getElementById('canvas');
            const nodeMap = {};
            
            console.log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∏–∞–≥—Ä–∞–º–º—ã, —É–∑–ª–æ–≤:', nodes.length);
            
            nodes.forEach(node => {
                const nodeEl = createNode(node);
                canvas.appendChild(nodeEl);
                nodeMap[node.id] = node;
            });
            
            // –°–æ–∑–¥–∞–µ–º –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ —Å–≤—è–∑–∏ (—Ä–æ–¥–∏—Ç–µ–ª—å -> –¥–µ—Ç–∏)
            nodes.forEach(node => {
                if (node.children) {
                    node.children.forEach(childId => {
                        const child = nodeMap[childId];
                        if (child) {
                            const connection = createConnection(node, child, node.type);
                            canvas.appendChild(connection);
                        }
                    });
                }
            });
            
            // –°–æ–∑–¥–∞–µ–º –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏
            Object.keys(compatibility).forEach(key => {
                const [id1, id2] = key.split(',');
                const node1 = nodeMap[id1];
                const node2 = nodeMap[id2];
                
                if (node1 && node2) {
                    const compatLine = createCompatibilityLine(node1, node2, compatibility[key]);
                    canvas.appendChild(compatLine);
                }
            });
            
            console.log('–î–∏–∞–≥—Ä–∞–º–º–∞ —Å–æ–∑–¥–∞–Ω–∞, —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ canvas:', canvas.children.length);
        }

        function updateTransform() {
            const canvas = document.getElementById('canvas');
            canvas.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
            document.getElementById('zoomLevel').textContent = Math.round(scale * 100) + '%';
        }

        function resetView() {
            scale = 0.3;
            translateX = 200;
            translateY = 50;
            updateTransform();
        }

        function centerView() {
            translateX = 200;
            translateY = 50;
            updateTransform();
        }

        const viewport = document.getElementById('viewport');

        viewport.addEventListener('wheel', (e) => {
            e.preventDefault();
            
            const rect = viewport.getBoundingClientRect();
            const mouseX = e.clientX - rect.left;
            const mouseY = e.clientY - rect.top;
            
            const delta = e.deltaY > 0 ? 0.9 : 1.1;
            const newScale = Math.max(0.1, Math.min(3, scale * delta));
            
            // –í—ã—á–∏—Å–ª—è–µ–º —Ç–æ—á–∫—É —Ñ–æ–∫—É—Å–∞ –≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö canvas
            const canvasX = (mouseX - translateX) / scale;
            const canvasY = (mouseY - translateY) / scale;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –º–∞—Å—à—Ç–∞–±
            scale = newScale;
            
            // –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º –ø–æ–∑–∏—Ü–∏—é —á—Ç–æ–±—ã —Ç–æ—á–∫–∞ –ø–æ–¥ –∫—É—Ä—Å–æ—Ä–æ–º –æ—Å—Ç–∞–ª–∞—Å—å –Ω–∞ –º–µ—Å—Ç–µ
            translateX = mouseX - canvasX * scale;
            translateY = mouseY - canvasY * scale;
            
            updateTransform();
        });

        viewport.addEventListener('mousedown', (e) => {
            if (e.button === 0) {
                isDragging = true;
                lastMouseX = e.clientX;
                lastMouseY = e.clientY;
                viewport.classList.add('dragging');
            }
        });

        document.addEventListener('mousemove', (e) => {
            if (isDragging) {
                const deltaX = e.clientX - lastMouseX;
                const deltaY = e.clientY - lastMouseY;
                translateX += deltaX;
                translateY += deltaY;
                lastMouseX = e.clientX;
                lastMouseY = e.clientY;
                updateTransform();
            }
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
            viewport.classList.remove('dragging');
        });

        initCanvas();
        updateTransform();
    </script>
</body>
</html>