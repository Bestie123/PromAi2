# –î–∏–∞–≥—Ä–∞–º–º–∞ 14: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ edge cases

## –í–∞—Ä–∏–∞–Ω—Ç A: –¢–∏–ø—ã –æ—à–∏–±–æ–∫ –∏ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∞

```mermaid
graph TB
    Error[–û—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–ª–∞] --> Type{–¢–∏–ø –æ—à–∏–±–∫–∏}
    
    Type -->|–°–∏–Ω—Ç–∞–∫—Å–∏—Å| Syntax[–°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞]
    Type -->|–õ–æ–≥–∏–∫–∞| Logic[–õ–æ–≥–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞]
    Type -->|Runtime| Runtime[Runtime –æ—à–∏–±–∫–∞]
    Type -->|–¢–µ—Å—Ç—ã| Test[–û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–æ–≤]
    Type -->|–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å| Perf[Performance –ø—Ä–æ–±–ª–µ–º–∞]
    Type -->|–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å| Security[Security —É—è–∑–≤–∏–º–æ—Å—Ç—å]
    
    subgraph "–°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏"
        Syntax --> S1[–ò–ò –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –ø—Ä–∏ –Ω–∞–±–æ—Ä–µ]
        S1 --> S2[–ü–æ–¥—Å–≤–µ—Ç–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏]
        S2 --> S3[–ê–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ]
        S3 --> S4{–ü—Ä–∏–º–µ–Ω–∏—Ç—å?}
        S4 -->|–î–∞| S5[–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ]
        S4 -->|–ù–µ—Ç| S6[–†—É—á–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ]
    end
    
    subgraph "–õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏"
        Logic --> L1[–ò–ò –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–¥]
        L1 --> L2[–ù–∞—Ö–æ–¥–∏—Ç –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è]
        L2 --> L3[–ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è]
        L3 --> L4[–û–±—ä—è—Å–Ω—è–µ—Ç –ø—Ä–∏—á–∏–Ω—É]
        L4 --> L5{–ü–æ–Ω—è—Ç–Ω–æ?}
        L5 -->|–ù–µ—Ç| L6[–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ]
        L5 -->|–î–∞| L7[–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è]
        L6 --> L7
    end
    
    subgraph "Runtime –æ—à–∏–±–∫–∏"
        Runtime --> R1[Stack trace –∞–Ω–∞–ª–∏–∑]
        R1 --> R2[–ò–ò –Ω–∞—Ö–æ–¥–∏—Ç –∏—Å—Ç–æ—á–Ω–∏–∫]
        R2 --> R3[–ü—Ä–æ–≤–µ—Ä–∫–∞ edge cases]
        R3 --> R4[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤]
        R4 --> R5[–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ + —Ç–µ—Å—Ç—ã]
    end
    
    subgraph "–û—à–∏–±–∫–∏ —Ç–µ—Å—Ç–æ–≤"
        Test --> T1[–ê–Ω–∞–ª–∏–∑ —É–ø–∞–≤—à–∏—Ö —Ç–µ—Å—Ç–æ–≤]
        T1 --> T2{–ü—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–¥–µ<br/>–∏–ª–∏ —Ç–µ—Å—Ç–∞—Ö?}
        T2 -->|–ö–æ–¥| T3[–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞]
        T2 -->|–¢–µ—Å—Ç—ã| T4[–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤]
        T2 -->|–û–±–∞| T5[–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±–æ–∏—Ö]
    end
    
    subgraph "Performance –ø—Ä–æ–±–ª–µ–º—ã"
        Perf --> P1[–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ]
        P1 --> P2[–ü–æ–∏—Å–∫ —É–∑–∫–∏—Ö –º–µ—Å—Ç]
        P2 --> P3[–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏]
        P3 --> P4[–ë–µ–Ω—á–º–∞—Ä–∫–∏ –¥–æ/–ø–æ—Å–ª–µ]
    end
    
    subgraph "Security —É—è–∑–≤–∏–º–æ—Å—Ç–∏"
        Security --> SE1[SAST/DAST —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ]
        SE1 --> SE2[–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è CVSS]
        SE2 --> SE3{–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å}
        SE3 -->|Critical| SE4[–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ]
        SE3 -->|High| SE5[–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ]
        SE3 -->|Medium/Low| SE6[–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è]
    end
    
    S5 --> Resolved[‚úÖ –†–µ—à–µ–Ω–æ]
    S6 --> Resolved
    L7 --> Resolved
    R5 --> Resolved
    T3 --> Resolved
    T4 --> Resolved
    T5 --> Resolved
    P4 --> Resolved
    SE4 --> Resolved
    SE5 --> Resolved
    SE6 --> Resolved
    
    Resolved --> Learn[–ò–ò –æ–±—É—á–µ–Ω–∏–µ]
    Learn --> Knowledge[–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π]
    Knowledge --> Prevention[–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –≤ –±—É–¥—É—â–µ–º]
    
    style Resolved fill:#90ee90
    style Prevention fill:#ffd700
```

## –í–∞—Ä–∏–∞–Ω—Ç B: Edge cases detection –∏ handling

```mermaid
flowchart TD
    Code[–ù–æ–≤—ã–π –∫–æ–¥] --> AI[–ò–ò –∞–Ω–∞–ª–∏–∑]
    
    AI --> EC1[–ü—Ä–æ–≤–µ—Ä–∫–∞ edge cases]
    
    subgraph "–¢–∏–ø–∏—á–Ω—ã–µ edge cases"
        EC1 --> E1[Null/Undefined]
        EC1 --> E2[–ü—É—Å—Ç—ã–µ –º–∞—Å—Å–∏–≤—ã/–æ–±—ä–µ–∫—Ç—ã]
        EC1 --> E3[–ì—Ä–∞–Ω–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è]
        EC1 --> E4[–ë–æ–ª—å—à–∏–µ –¥–∞–Ω–Ω—ã–µ]
        EC1 --> E5[–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å]
        EC1 --> E6[–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏]
    end
    
    E1 --> Check1{–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ?}
    E2 --> Check2{–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ?}
    E3 --> Check3{–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ?}
    E4 --> Check4{–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ?}
    E5 --> Check5{–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ?}
    E6 --> Check6{–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ?}
    
    Check1 -->|–ù–µ—Ç| Fix1[–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É null]
    Check2 -->|–ù–µ—Ç| Fix2[–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É length]
    Check3 -->|–ù–µ—Ç| Fix3[–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≥—Ä–∞–Ω–∏—Ü]
    Check4 -->|–ù–µ—Ç| Fix4[–î–æ–±–∞–≤–∏—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é/–ª–∏–º–∏—Ç—ã]
    Check5 -->|–ù–µ—Ç| Fix5[–î–æ–±–∞–≤–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é]
    Check6 -->|–ù–µ—Ç| Fix6[–î–æ–±–∞–≤–∏—Ç—å circular detection]
    
    Check1 -->|–î–∞| OK1[‚úì]
    Check2 -->|–î–∞| OK2[‚úì]
    Check3 -->|–î–∞| OK3[‚úì]
    Check4 -->|–î–∞| OK4[‚úì]
    Check5 -->|–î–∞| OK5[‚úì]
    Check6 -->|–î–∞| OK6[‚úì]
    
    Fix1 --> Generate1[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞]
    Fix2 --> Generate2[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞]
    Fix3 --> Generate3[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞]
    Fix4 --> Generate4[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞]
    Fix5 --> Generate5[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞]
    Fix6 --> Generate6[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞]
    
    Generate1 --> Test1[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤]
    Generate2 --> Test2[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤]
    Generate3 --> Test3[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤]
    Generate4 --> Test4[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤]
    Generate5 --> Test5[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤]
    Generate6 --> Test6[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤]
    
    Test1 --> Verify[–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è]
    Test2 --> Verify
    Test3 --> Verify
    Test4 --> Verify
    Test5 --> Verify
    Test6 --> Verify
    OK1 --> Verify
    OK2 --> Verify
    OK3 --> Verify
    OK4 --> Verify
    OK5 --> Verify
    OK6 --> Verify
    
    Verify --> Report[–û—Ç—á–µ—Ç]
    Report --> R1[–ù–∞–π–¥–µ–Ω–æ edge cases: 6]
    Report --> R2[–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ: 6]
    Report --> R3[–¢–µ—Å—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã: 18]
    Report --> R4[–ü–æ–∫—Ä—ã—Ç–∏–µ: +15%]
    
    style Verify fill:#90ee90
```

## –í–∞—Ä–∏–∞–Ω—Ç C: Debugging workflow —Å –ò–ò

```mermaid
sequenceDiagram
    participant Dev as –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫
    participant AI as Amazon Q
    participant Debugger as Debugger
    participant Code as –ö–æ–¥
    participant Tests as –¢–µ—Å—Ç—ã
    
    Dev->>AI: "–ë–∞–≥: children –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è"
    AI->>Dev: ‚ùì –£—Ç–æ—á–Ω–µ–Ω–∏—è:<br/>1. –ö–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?<br/>2. –ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ?<br/>3. –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ?
    
    Dev->>AI: "–ü—Ä–∏ CRDT move –æ–ø–µ—Ä–∞—Ü–∏–∏<br/>blockId='abc', newParent='xyz'<br/>–û–∂–∏–¥–∞–µ—Ç—Å—è: children –æ–±–Ω–æ–≤–ª–µ–Ω—ã"
    
    AI->>Code: –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
    AI->>Code: –ü–æ–∏—Å–∫ —Ñ—É–Ω–∫—Ü–∏–∏ move()
    AI->>Code: –ê–Ω–∞–ª–∏–∑ CRDT –æ–ø–µ—Ä–∞—Ü–∏–π
    
    AI->>Dev: üîç –ù–∞–π–¥–µ–Ω–æ:<br/>–í block.ts:45<br/>children –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –¥–æ CRDT apply<br/>–ù—É–∂–Ω–æ: –ø–æ—Å–ª–µ CRDT apply
    
    Dev->>AI: "–ü–æ–∫–∞–∂–∏ –∫–æ–¥"
    
    AI->>Dev: ```typescript<br/>// –¢–µ–∫—É—â–∏–π –∫–æ–¥ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)<br/>this.children = newChildren;<br/>await crdt.apply(op);<br/><br/>// –î–æ–ª–∂–Ω–æ –±—ã—Ç—å<br/>await crdt.apply(op);<br/>this.children = newChildren;<br/>```
    
    Dev->>AI: "–ò—Å–ø—Ä–∞–≤—å"
    
    AI->>Code: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π
    AI->>Tests: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞ –¥–ª—è —ç—Ç–æ–≥–æ —Å–ª—É—á–∞—è
    
    AI->>Dev: ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ<br/>–î–æ–±–∞–≤–ª–µ–Ω —Ç–µ—Å—Ç: move_updates_children_after_crdt
    
    Dev->>AI: "–ó–∞–ø—É—Å—Ç–∏ —Ç–µ—Å—Ç—ã"
    
    AI->>Tests: npm test
    Tests-->>AI: ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã
    
    AI->>Dev: ‚úÖ –ë–∞–≥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω<br/>–¢–µ—Å—Ç—ã: 49/49 –ø—Ä–æ–π–¥–µ–Ω–æ<br/>–ù–æ–≤—ã–π —Ç–µ—Å—Ç –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏—é
    
    Dev->>AI: "–ï—Å—Ç—å –ª–∏ –ø–æ—Ö–æ–∂–∏–µ –ø—Ä–æ–±–ª–µ–º—ã?"
    
    AI->>Code: –ü–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
    AI->>Dev: üîç –ù–∞–π–¥–µ–Ω–æ 2 –ø–æ—Ö–æ–∂–∏—Ö –º–µ—Å—Ç–∞:<br/>1. delete() - —Ç–∞ –∂–µ –ø—Ä–æ–±–ª–µ–º–∞<br/>2. update() - –ø—Ä–∞–≤–∏–ª—å–Ω–æ<br/><br/>–ò—Å–ø—Ä–∞–≤–∏—Ç—å delete()?
    
    Dev->>AI: "–î–∞"
    
    AI->>Code: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ delete()
    AI->>Tests: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞
    AI->>Dev: ‚úÖ –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ<br/>–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω –±—É–¥—É—â–∏–π –±–∞–≥
```

## –í–∞—Ä–∏–∞–Ω—Ç D: Regression prevention

```mermaid
graph TB
    Bug[–ë–∞–≥ –Ω–∞–π–¥–µ–Ω] --> Fix[–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ]
    
    Fix --> Test[–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞]
    
    subgraph "–¢–µ—Å—Ç –¥–ª—è —Ä–µ–≥—Ä–µ—Å—Å–∏–∏"
        Test --> T1[–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –±–∞–≥–∞]
        T1 --> T2[–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è]
        T2 --> T3[Edge cases]
        T3 --> T4[–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç]
    end
    
    T4 --> CI[–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ CI]
    
    CI --> Monitor[–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥]
    
    subgraph "–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏"
        Monitor --> M1[–ó–∞–ø—É—Å–∫ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∫–æ–º–º–∏—Ç–µ]
        M1 --> M2[–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–∞–ª–µ]
        M2 --> M3[–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã]
        M3 --> M4[–ê–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω—ã]
    end
    
    M4 --> Learn[–ò–ò –æ–±—É—á–µ–Ω–∏–µ]
    
    subgraph "–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –±–∞–≥–æ–≤"
        Learn --> KB1[–¢–∏–ø –±–∞–≥–∞]
        Learn --> KB2[–ü—Ä–∏—á–∏–Ω–∞]
        Learn --> KB3[–†–µ—à–µ–Ω–∏–µ]
        Learn --> KB4[–ü–∞—Ç—Ç–µ—Ä–Ω –∫–æ–¥–∞]
        Learn --> KB5[–¢–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏]
    end
    
    KB1 --> Predict[–ü—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑]
    KB2 --> Predict
    KB3 --> Predict
    KB4 --> Predict
    KB5 --> Predict
    
    Predict --> Future[–ë—É–¥—É—â–∏–π –∫–æ–¥]
    Future --> Check{–ü–æ—Ö–æ–∂–∏–π<br/>–ø–∞—Ç—Ç–µ—Ä–Ω?}
    
    Check -->|–î–∞| Warn[‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:<br/>–ü–æ—Ö–æ–∂–µ –Ω–∞ –±–∞–≥ #123<br/>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ...]
    Check -->|–ù–µ—Ç| OK[‚úì OK]
    
    Warn --> Prevent[–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –±–∞–≥–∞]
    
    style Prevent fill:#90ee90
    style Warn fill:#fff9c4
```

## –í–∞—Ä–∏–∞–Ω—Ç E: Error recovery strategies

```mermaid
stateDiagram-v2
    [*] --> Normal: –ù–æ—Ä–º–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
    
    Normal --> ErrorDetected: –û—à–∏–±–∫–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞
    
    state ErrorDetected {
        [*] --> Classify
        Classify --> Recoverable: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–º–∞—è
        Classify --> NonRecoverable: –ù–µ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–º–∞—è
        
        state Recoverable {
            [*] --> Retry
            Retry --> RetrySuccess: –£—Å–ø–µ—Ö
            Retry --> RetryFail: –ü—Ä–æ–≤–∞–ª
            RetryFail --> Fallback
            Fallback --> FallbackSuccess: –£—Å–ø–µ—Ö
            Fallback --> FallbackFail: –ü—Ä–æ–≤–∞–ª
            FallbackFail --> Degrade
            Degrade --> [*]
        }
        
        state NonRecoverable {
            [*] --> SaveState
            SaveState --> Rollback
            Rollback --> Notify
            Notify --> [*]
        }
    }
    
    ErrorDetected --> Recovery: –ü–æ–ø—ã—Ç–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
    
    state Recovery {
        [*] --> Strategy1: –°—Ç—Ä–∞—Ç–µ–≥–∏—è 1: Retry
        Strategy1 --> Works1: –†–∞–±–æ—Ç–∞–µ—Ç?
        Works1 --> Success1: –î–∞
        Works1 --> Strategy2: –ù–µ—Ç
        
        Strategy2 --> Fallback: –°—Ç—Ä–∞—Ç–µ–≥–∏—è 2: Fallback
        Fallback --> Works2: –†–∞–±–æ—Ç–∞–µ—Ç?
        Works2 --> Success2: –î–∞
        Works2 --> Strategy3: –ù–µ—Ç
        
        Strategy3 --> Degrade: –°—Ç—Ä–∞—Ç–µ–≥–∏—è 3: Degraded Mode
        Degrade --> Works3: –†–∞–±–æ—Ç–∞–µ—Ç?
        Works3 --> Success3: –î–∞
        Works3 --> Failed: –ù–µ—Ç
        
        Success1 --> [*]
        Success2 --> [*]
        Success3 --> [*]
        Failed --> [*]
    }
    
    Recovery --> Recovered: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
    Recovery --> Failed: –ù–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
    
    Recovered --> Log: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    Failed --> Alert: –ê–ª–µ—Ä—Ç –∫–æ–º–∞–Ω–¥–µ
    
    Log --> Learn: –ò–ò –∞–Ω–∞–ª–∏–∑
    Alert --> Learn
    
    state Learn {
        [*] --> AnalyzeError
        AnalyzeError --> FindPattern
        FindPattern --> UpdateKB
        UpdateKB --> ImproveDetection
        ImproveDetection --> [*]
    }
    
    Learn --> Normal: –í–æ–∑–≤—Ä–∞—Ç –∫ —Ä–∞–±–æ—Ç–µ
    
    note right of Recoverable
        –ü—Ä–∏–º–µ—Ä—ã:
        - Network timeout
        - Temporary unavailable
        - Rate limit exceeded
        - Lock conflict
    end note
    
    note right of NonRecoverable
        –ü—Ä–∏–º–µ—Ä—ã:
        - Data corruption
        - Invalid state
        - Security violation
        - Critical bug
    end note
```
