<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PromAi PKM - –ü–æ–ª–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π (–í–°–ï 29 –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤)</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0d1117; color: #c9d1d9; overflow: hidden;
        }
        #canvas { 
            width: 12000px; height: 8000px; position: relative; 
            background: radial-gradient(circle at 50% 50%, #161b22 0%, #0d1117 100%);
            transform-origin: 0 0;
        }
        #viewport { 
            width: 100vw; height: 100vh; overflow: hidden; position: relative;
            cursor: grab; background: #0d1117;
        }
        #viewport.dragging { cursor: grabbing; }
        
        .node {
            position: absolute; background: #21262d; border: 2px solid #30363d;
            border-radius: 12px; padding: 16px; min-width: 280px; max-width: 320px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.4); transition: all 0.3s ease;
        }
        .node:hover { transform: scale(1.05); box-shadow: 0 12px 48px rgba(0,0,0,0.6); }
        
        .critical { border-color: #f85149; background: linear-gradient(135deg, #21262d 0%, #2d1b1f 100%); }
        .important { border-color: #f79009; background: linear-gradient(135deg, #21262d 0%, #2d2419 100%); }
        .flexible { border-color: #3fb950; background: linear-gradient(135deg, #21262d 0%, #1b2d1f 100%); }
        .question { border-color: #58a6ff; background: linear-gradient(135deg, #21262d 0%, #1b2332 100%); }
        .rejected { border-color: #8b949e; background: linear-gradient(135deg, #21262d 0%, #2d2d2d 100%); opacity: 0.7; }
        
        .badge {
            display: inline-block; padding: 4px 8px; border-radius: 6px; font-size: 11px;
            font-weight: bold; margin-bottom: 8px;
        }
        .badge.critical { background: #f85149; color: #fff; }
        .badge.important { background: #f79009; color: #fff; }
        .badge.flexible { background: #3fb950; color: #fff; }
        .badge.question { background: #58a6ff; color: #fff; }
        .badge.rejected { background: #8b949e; color: #fff; }
        
        .node h3 { font-size: 14px; margin-bottom: 8px; color: #f0f6fc; }
        .node p { font-size: 12px; line-height: 1.4; margin-bottom: 8px; color: #8b949e; }
        .details { font-size: 11px; color: #6e7681; }
        
        .connection {
            position: absolute; background: #30363d; height: 2px; transform-origin: left center;
            z-index: -1;
        }
        .connection.critical { background: #f85149; }
        .connection.important { background: #f79009; }
        .connection.flexible { background: #3fb950; }
        .connection.question { background: #58a6ff; }
        .connection.rejected { background: #8b949e; }
        
        .compatibility-line {
            transition: opacity 0.3s ease;
        }
        .compatibility-line:hover {
            opacity: 1 !important;
        }
        
        .controls {
            position: fixed; top: 20px; left: 20px; z-index: 1000;
            background: rgba(33, 38, 45, 0.9); padding: 12px; border-radius: 8px;
            border: 1px solid #30363d;
        }
        .controls button {
            background: #238636; color: #fff; border: none; padding: 8px 12px;
            border-radius: 6px; margin-right: 8px; cursor: pointer; font-size: 12px;
        }
        .controls button:hover { background: #2ea043; }
        
        .zoom-info {
            position: fixed; bottom: 20px; right: 20px; z-index: 1000;
            background: rgba(33, 38, 45, 0.9); padding: 8px 12px; border-radius: 6px;
            border: 1px solid #30363d; font-size: 12px;
        }
        
        .stats {
            position: fixed; bottom: 20px; left: 20px; z-index: 1000;
            background: rgba(33, 38, 45, 0.9); padding: 8px 12px; border-radius: 6px;
            border: 1px solid #30363d; font-size: 12px; color: #3fb950;
        }
    </style>
</head>
<body>
    <div class="controls">
        <button onclick="resetView()">–°–±—Ä–æ—Å</button>
        <button onclick="centerView()">–¶–µ–Ω—Ç—Ä</button>
        <span style="color: #8b949e; margin-left: 12px;">–ö–æ–ª–µ—Å–æ –º—ã—à–∏ - –∑—É–º | –õ–ö–ú - –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ</span>
    </div>
    
    <div class="zoom-info">
        –ó—É–º: <span id="zoomLevel">100%</span>
    </div>
    
    <div class="stats">
        –£–∑–ª–æ–≤: <span id="nodeCount">0</span> | –ö—Ä–∏—Ç–µ—Ä–∏–µ–≤: <span id="criteriaCount">29/29</span> ‚úÖ
    </div>
    
    <div id="viewport">
        <div id="canvas"></div>
    </div>

    <script>
        const compatibility = {
            'modular-arch,monolith-arch': '–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ',
            'all-blocks,mixed-model': '–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ',
            'uuid-v4,uuid-v7': '–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å',
            'nested-blocks,flat-only': '–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ',
            'drag-drop-native,drag-drop-lib': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'markdown-rich,wysiwyg-rich': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'refs-uuid,refs-alias': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'backlinks-auto,backlinks-manual': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'json-storage,sqlite-storage': '–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å',
            'json-storage,hybrid-storage': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'sqlite-storage,hybrid-storage': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'offline-full,offline-partial': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'declarative-ui,imperative-ui': '–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ',
            'zero-runtime,stateful-runtime': '–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ',
            'yjs-crdt,automerge-crdt': '–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å',
            'event-sourcing-separate,event-sourcing-crdt': '–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ',
            'json-schema,typescript-schema': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'json-schema,zod-schema': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'typescript-schema,zod-schema': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'crdt-only,crdt-hybrid': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'atomic-transactions,simple-ops': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'refs-crdt-first,refs-crdt-secondary': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'flat-graph,page-hierarchy': '–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ',
            'no-global-state,global-state': '–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ',
            'virtual-scrolling,lazy-loading': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'web-workers-all,web-workers-search': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'circular-render,circular-creation': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'e2ee-ready,e2ee-later': '–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ',
            'crdt-merge,manual-merge': '–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ',
            'plugin-unified,plugin-mixed': '–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ',
            'composite-blocks,simple-blocks': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'block-state-json,block-state-simple': '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å',
            'modular-code,monolith-code': '–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ'
        };

        const nodes = [
            // 1. –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –¥–≤–∏–∂–∫–∞ (–∫—Ä–∏—Ç–µ—Ä–∏–π 1)
            { id: 'q1', x: 500, y: 100, type: 'question', title: '‚ùì –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –¥–≤–∏–∂–∫–∞?', description: '–Ø–¥—Ä–æ –æ—Ç–¥–µ–ª–µ–Ω–æ –æ—Ç UI –∏ –ø–ª–∞–≥–∏–Ω–æ–≤', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –ú–æ–¥—É–ª—å–Ω–∞—è | –ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è', children: ['modular-arch', 'monolith-arch'] },
            { id: 'modular-arch', x: 200, y: 300, type: 'critical', title: '‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è', description: '–Ø–¥—Ä–æ –ª–µ–≥–∫–æ –æ—Ç–¥–µ–ª—è–µ—Ç—Å—è', details: '‚ûï –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –∑–∞–º–µ–Ω–∞ UI ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å', children: [] },
            { id: 'monolith-arch', x: 800, y: 300, type: 'rejected', title: '‚ùå –ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è', description: '–í—Å—ë –≤ –æ–¥–Ω–æ–º –º–æ–¥—É–ª–µ', details: '‚ûï –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç ‚ûñ –°–ø–∞–≥–µ—Ç—Ç–∏-–∫–æ–¥', children: [] },

            // 2. –ë–ª–æ—á–Ω–æ—Å—Ç—å (–∫—Ä–∏—Ç–µ—Ä–∏–π 2)
            { id: 'q2', x: 1500, y: 100, type: 'question', title: '‚ùì –ë–ª–æ—á–Ω–æ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç–æ–≤?', description: '–í—Å—ë —è–≤–ª—è–µ—Ç—Å—è –±–ª–æ–∫–∞–º–∏', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –í—Å—ë –±–ª–æ–∫–∏ | –°–º–µ—à–∞–Ω–Ω–∞—è', children: ['all-blocks', 'mixed-model'] },
            { id: 'all-blocks', x: 1200, y: 300, type: 'critical', title: '‚úÖ –í—Å—ë - –±–ª–æ–∫–∏', description: '–ï–¥–∏–Ω–∞—è –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö', details: '‚ûï –ï–¥–∏–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å', children: [] },
            { id: 'mixed-model', x: 1800, y: 300, type: 'rejected', title: '‚ùå –°–º–µ—à–∞–Ω–Ω–∞—è', description: '–ë–ª–æ–∫–∏ + –æ—Å–æ–±—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏', details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ ‚ûñ –õ–æ–º–∞—é—Ç—Å—è refs', children: [] },

            // 3. UUID (–∫—Ä–∏—Ç–µ—Ä–∏–π 3)
            { id: 'q3', x: 2500, y: 100, type: 'question', title: '‚ùì UUID –¥–ª—è –±–ª–æ–∫–æ–≤?', description: '–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ ID', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: UUID v4 | UUID v7', children: ['uuid-v4', 'uuid-v7'] },
            { id: 'uuid-v4', x: 2200, y: 300, type: 'critical', title: 'üé≤ UUID v4', description: '–°–ª—É—á–∞–π–Ω—ã–µ UUID', details: '‚ûï –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ ‚ûñ –ù–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏', children: [] },
            { id: 'uuid-v7', x: 2800, y: 300, type: 'important', title: '‚è∞ UUID v7', description: 'UUID —Å timestamp', details: '‚ûï –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ ‚ûñ –ù–æ–≤—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç', children: [] },

            // 4. –í–ª–æ–∂–µ–Ω–Ω—ã–µ –±–ª–æ–∫–∏ (–∫—Ä–∏—Ç–µ—Ä–∏–π 4)
            { id: 'q4', x: 3500, y: 100, type: 'question', title: '‚ùì –í–ª–æ–∂–µ–Ω–Ω—ã–µ –±–ª–æ–∫–∏?', description: '–ò–µ—Ä–∞—Ä—Ö–∏—è –ª—é–±–æ–π –≥–ª—É–±–∏–Ω—ã', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –í–ª–æ–∂–µ–Ω–Ω—ã–µ | –¢–æ–ª—å–∫–æ –ø–ª–æ—Å–∫–∏–µ', children: ['nested-blocks', 'flat-only'] },
            { id: 'nested-blocks', x: 3200, y: 300, type: 'critical', title: '‚úÖ –í–ª–æ–∂–µ–Ω–Ω—ã–µ', description: '–ò–µ—Ä–∞—Ä—Ö–∏—è –ª—é–±–æ–π –≥–ª—É–±–∏–Ω—ã', details: '‚ûï –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å', children: [] },
            { id: 'flat-only', x: 3800, y: 300, type: 'rejected', title: '‚ùå –¢–æ–ª—å–∫–æ –ø–ª–æ—Å–∫–∏–µ', description: '–ù–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏', details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ ‚ûñ –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç—ã', children: [] },

            // 5. Drag & Drop (–∫—Ä–∏—Ç–µ—Ä–∏–π 5)
            { id: 'q5', x: 4500, y: 100, type: 'question', title: '‚ùì Drag & Drop –ø–æ—Ä—è–¥–∫–∞?', description: '–ü–æ—Ä—è–¥–æ–∫ –¥–æ—á–µ—Ä–Ω–∏—Ö –±–ª–æ–∫–æ–≤', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –ù–∞—Ç–∏–≤–Ω—ã–π | –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞', children: ['drag-drop-native', 'drag-drop-lib'] },
            { id: 'drag-drop-native', x: 4200, y: 300, type: 'critical', title: '‚úÖ –ù–∞—Ç–∏–≤–Ω—ã–π', description: '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ HTML5 DnD API', details: '‚ûï –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å API', children: [] },
            { id: 'drag-drop-lib', x: 4800, y: 300, type: 'important', title: 'üì¶ –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞', description: '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏', details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ ‚ûñ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å', children: [] },

            // 6. Rich Text (–∫—Ä–∏—Ç–µ—Ä–∏–π 6)
            { id: 'q6', x: 500, y: 600, type: 'question', title: '‚ùì Rich Text?', description: 'Markdown-–ø–æ–¥–æ–±–Ω—ã–π + —Å—É—â–Ω–æ—Å—Ç–∏', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: Markdown | WYSIWYG', children: ['markdown-rich', 'wysiwyg-rich'] },
            { id: 'markdown-rich', x: 200, y: 800, type: 'critical', title: 'üìù Markdown+', description: 'Markdown + —Å—Å—ã–ª–∫–∏/–±–ª–æ–∫–∏', details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞, —á–∏—Ç–∞–µ–º–æ—Å—Ç—å ‚ûñ –ö—Ä–∏–≤–∞—è –æ–±—É—á–µ–Ω–∏—è', children: [] },
            { id: 'wysiwyg-rich', x: 800, y: 800, type: 'important', title: '‚úèÔ∏è WYSIWYG', description: '–í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä', details: '‚ûï –£–¥–æ–±—Å—Ç–≤–æ ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏', children: [] },

            // 7. Refs (–∫—Ä–∏—Ç–µ—Ä–∏–π 7)
            { id: 'q7', x: 1500, y: 600, type: 'question', title: '‚ùì Refs –ø–æ UUID?', description: '–õ—é–±–æ–π –±–ª–æ–∫ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –ª—é–±–æ–π', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –ü–æ UUID | –ü–æ –∞–ª–∏–∞—Å—É', children: ['refs-uuid', 'refs-alias'] },
            { id: 'refs-uuid', x: 1200, y: 800, type: 'critical', title: '‚úÖ –ü–æ UUID', description: '–ü—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–º—É ID', details: '‚ûï –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å ‚ûñ –ù–µ—á–∏—Ç–∞–µ–º–æ—Å—Ç—å', children: [] },
            { id: 'refs-alias', x: 1800, y: 800, type: 'important', title: 'üè∑Ô∏è –ü–æ –∞–ª–∏–∞—Å—É', description: '–ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–µ —Å—Å—ã–ª–∫–∏', details: '‚ûï –£–¥–æ–±—Å—Ç–≤–æ ‚ûñ –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∏–º—ë–Ω', children: [] },

            // 8. Backlinks (–∫—Ä–∏—Ç–µ—Ä–∏–π 8)
            { id: 'q8', x: 2500, y: 600, type: 'question', title: '‚ùì Backlinks?', description: '–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –æ–±—Ä–∞—Ç–Ω—ã–º —Å—Å—ã–ª–∫–∞–º', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ | –†—É—á–Ω—ã–µ', children: ['backlinks-auto', 'backlinks-manual'] },
            { id: 'backlinks-auto', x: 2200, y: 800, type: 'critical', title: '‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ', description: '–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ', details: '‚ûï –ú–∞–≥–∏—è –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —Å–≤—è–∑–µ–π ‚ûñ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å', children: [] },
            { id: 'backlinks-manual', x: 2800, y: 800, type: 'rejected', title: '‚ùå –†—É—á–Ω—ã–µ', description: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞—ë—Ç —Å–∞–º', details: '‚ûï –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å ‚ûñ –ú—ë—Ä—Ç–≤—ã–µ —Å—Å—ã–ª–∫–∏', children: [] },

            // 9. –õ–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∫—Ä–∏—Ç–µ—Ä–∏–π 9)
            { id: 'q9', x: 3500, y: 600, type: 'question', title: '‚ùì –õ–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ?', description: '–û—Ç–∫—Ä—ã—Ç—ã–π —á–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: JSON | SQLite | –ì–∏–±—Ä–∏–¥', children: ['json-storage', 'sqlite-storage', 'hybrid-storage'] },
            { id: 'json-storage', x: 3000, y: 800, type: 'critical', title: '‚úÖ JSON', description: '–ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã', details: '‚ûï –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å, —Å–∫—Ä–∏–ø—Ç—ã ‚ûñ –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã', children: [] },
            { id: 'sqlite-storage', x: 3500, y: 800, type: 'important', title: '‚ö° SQLite', description: '–†–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –ë–î', details: '‚ûï –ë—ã—Å—Ç—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã ‚ûñ –ù–µ—á–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç', children: [] },
            { id: 'hybrid-storage', x: 4000, y: 800, type: 'flexible', title: 'üîÑ –ì–∏–±—Ä–∏–¥', description: 'JSON + SQLite –∏–Ω–¥–µ–∫—Å—ã', details: '‚ûï –õ—É—á—à–µ–µ –∏–∑ –¥–≤—É—Ö –º–∏—Ä–æ–≤ ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å', children: [] },

            // 10. –û—Ñ—Ñ–ª–∞–π–Ω (–∫—Ä–∏—Ç–µ—Ä–∏–π 10)
            { id: 'q10', x: 4500, y: 600, type: 'question', title: '‚ùì –û—Ñ—Ñ–ª–∞–π–Ω —Ä–∞–±–æ—Ç–∞?', description: '–ü–æ–ª–Ω–∞—è –æ—Ñ—Ñ–ª–∞–π–Ω-—Ä–∞–±–æ—Ç–∞', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –ü–æ–ª–Ω–∞—è | –ß–∞—Å—Ç–∏—á–Ω–∞—è', children: ['offline-full', 'offline-partial'] },
            { id: 'offline-full', x: 4200, y: 800, type: 'critical', title: '‚úÖ –ü–æ–ª–Ω–∞—è', description: '–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ —Å–µ—Ç–∏', details: '‚ûï Must-have –¥–ª—è PKM ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏', children: [] },
            { id: 'offline-partial', x: 4800, y: 800, type: 'important', title: '‚ö° –ß–∞—Å—Ç–∏—á–Ω–∞—è', description: '–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ñ—Ñ–ª–∞–π–Ω', details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ ‚ûñ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è', children: [] },

            // 11. –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π UI (–∫—Ä–∏—Ç–µ—Ä–∏–π 11)
            { id: 'q11', x: 500, y: 1100, type: 'question', title: '‚ùì –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π UI?', description: '100% –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π | –ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π', children: ['declarative-ui', 'imperative-ui'] },
            { id: 'declarative-ui', x: 200, y: 1300, type: 'critical', title: '‚úÖ –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π', description: 'JSON-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, —á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏', details: '‚ûï –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å, –æ—Ç–ª–∞–¥–∫–∞ ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å', children: [] },
            { id: 'imperative-ui', x: 800, y: 1300, type: 'rejected', title: '‚ùå –ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π', description: '–û–±—ã—á–Ω—ã–π –∫–æ–¥ —Å –º—É—Ç–∞—Ü–∏—è–º–∏', details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ ‚ûñ –ù–µ–æ–±—ä—è—Å–Ω–∏–º—ã–µ –±–∞–≥–∏', children: [] },

            // 12. Zero runtime logic (–∫—Ä–∏—Ç–µ—Ä–∏–π 12)
            { id: 'q12', x: 1500, y: 1100, type: 'question', title: '‚ùì Zero runtime logic?', description: '–ß–∏—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∞', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –ß–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ | Stateful', children: ['zero-runtime', 'stateful-runtime'] },
            { id: 'zero-runtime', x: 1200, y: 1300, type: 'critical', title: '‚úÖ –ß–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏', description: '–ù–∏–∫–∞–∫–æ–π runtime –ª–æ–≥–∏–∫–∏ –≤ —Ä–µ–Ω–¥–µ—Ä–µ', details: '‚ûï –ù–µ—Ç race conditions ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏', children: [] },
            { id: 'stateful-runtime', x: 1800, y: 1300, type: 'rejected', title: '‚ùå Stateful', description: '–õ–æ–≥–∏–∫–∞ –≤ —Ä–µ–Ω–¥–µ—Ä–µ', details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ ‚ûñ –ì–ª—é–∫–∏ —á–µ—Ä–µ–∑ 30-40 –ø–ª–∞–≥–∏–Ω–æ–≤', children: [] },

            // 13. CRDT (–∫—Ä–∏—Ç–µ—Ä–∏–π 13)
            { id: 'q13', x: 2500, y: 1100, type: 'question', title: '‚ùì –ö–∞–∫—É—é CRDT?', description: 'Single source of truth', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: Yjs | Automerge', children: ['yjs-crdt', 'automerge-crdt'] },
            { id: 'yjs-crdt', x: 2200, y: 1300, type: 'critical', title: '‚úÖ Yjs', description: '–ë—ã—Å—Ç—Ä–∞—è, –ø–æ–ø—É–ª—è—Ä–Ω–∞—è CRDT', details: '‚ûï –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, WebRTC ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å API', children: [] },
            { id: 'automerge-crdt', x: 2800, y: 1300, type: 'important', title: '‚ö° Automerge', description: '–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è CRDT', details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ API ‚ûñ –ú–µ–¥–ª–µ–Ω–Ω–µ–µ Yjs', children: [] },

            // 14. Event Sourcing (–∫—Ä–∏—Ç–µ—Ä–∏–π 14)
            { id: 'q14', x: 3500, y: 1100, type: 'question', title: '‚ùì Event Sourcing?', description: 'Immutable ops log —Å –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –û—Ç–¥–µ–ª—å–Ω—ã–π –ª–æ–≥ | –í CRDT', children: ['event-sourcing-separate', 'event-sourcing-crdt'] },
            { id: 'event-sourcing-separate', x: 3200, y: 1300, type: 'critical', title: '‚úÖ –û—Ç–¥–µ–ª—å–Ω—ã–π –ª–æ–≥', description: '–û–ø–µ—Ä–∞—Ü–∏–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ', details: '‚ûï –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç, versioning ‚ûñ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ', children: [] },
            { id: 'event-sourcing-crdt', x: 3800, y: 1300, type: 'important', title: 'üîÑ –í CRDT', description: '–õ–æ–≥ –∫–∞–∫ —á–∞—Å—Ç—å CRDT', details: '‚ûï –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–ø–ª–µ—è', children: [] },

            // 15. Schema-first (–∫—Ä–∏—Ç–µ—Ä–∏–π 15)
            { id: 'q15', x: 4500, y: 1100, type: 'question', title: '‚ùì Schema-first?', description: 'Runtime –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ö–µ–º', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: JSON Schema | TypeScript | Zod', children: ['json-schema', 'typescript-schema', 'zod-schema'] },
            { id: 'json-schema', x: 4000, y: 1300, type: 'critical', title: '‚úÖ JSON Schema', description: '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è', details: '‚ûï –°—Ç–∞–Ω–¥–∞—Ä—Ç, —è–∑—ã–∫–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å ‚ûñ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å', children: [] },
            { id: 'typescript-schema', x: 4500, y: 1300, type: 'important', title: 'üî∑ TypeScript', description: '–¢–∏–ø—ã –∫–∞–∫ —Å—Ö–µ–º—ã', details: '‚ûï –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–æ–¥–æ–º ‚ûñ –ù–µ—Ç runtime –≤–∞–ª–∏–¥–∞—Ü–∏–∏', children: [] },
            { id: 'zod-schema', x: 5000, y: 1300, type: 'flexible', title: '‚öôÔ∏è Zod', description: 'TypeScript-first –≤–∞–ª–∏–¥–∞—Ü–∏—è', details: '‚ûï Runtime + compile-time ‚ûñ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å', children: [] },

            // 16. CRDT –æ–ø–µ—Ä–∞—Ü–∏–∏ (–∫—Ä–∏—Ç–µ—Ä–∏–π 16)
            { id: 'q16', x: 500, y: 1600, type: 'question', title: '‚ùì –í—Å–µ —á–µ—Ä–µ–∑ CRDT?', description: '–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ CRDT-–æ–ø–µ—Ä–∞—Ü–∏–∏', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –¢–æ–ª—å–∫–æ CRDT | –ì–∏–±—Ä–∏–¥', children: ['crdt-only', 'crdt-hybrid'] },
            { id: 'crdt-only', x: 200, y: 1800, type: 'critical', title: '‚úÖ –¢–æ–ª—å–∫–æ CRDT', description: '–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ CRDT', details: '‚ûï –ë—É–¥—É—â–∞—è –∫–æ–ª–ª–∞–±–æ—Ä–∞—Ü–∏—è ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å API', children: [] },
            { id: 'crdt-hybrid', x: 800, y: 1800, type: 'important', title: 'üîÑ –ì–∏–±—Ä–∏–¥', description: 'CRDT + –ø—Ä—è–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è', details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ ‚ûñ –ü–æ–ª–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Ç–æ–º', children: [] },

            // 17. –ê—Ç–æ–º–∞—Ä–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (–∫—Ä–∏—Ç–µ—Ä–∏–π 17)
            { id: 'q17', x: 1500, y: 1600, type: 'question', title: '‚ùì –ê—Ç–æ–º–∞—Ä–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏?', description: '–¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö, undo/redo', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –ê—Ç–æ–º–∞—Ä–Ω—ã–µ | –ü—Ä–æ—Å—Ç—ã–µ', children: ['atomic-transactions', 'simple-ops'] },
            { id: 'atomic-transactions', x: 1200, y: 1800, type: 'critical', title: '‚úÖ –ê—Ç–æ–º–∞—Ä–Ω—ã–µ', description: '–í—Å–µ –∏–ª–∏ –Ω–∏—á–µ–≥–æ', details: '‚ûï –ù–æ—Ä–º–∞–ª—å–Ω—ã–π undo/redo ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏', children: [] },
            { id: 'simple-ops', x: 1800, y: 1800, type: 'rejected', title: '‚ùå –ü—Ä–æ—Å—Ç—ã–µ', description: '–û–¥–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è = –æ–¥–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ', details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ ‚ûñ –ü–æ–ª—É–±–ª–æ–∫–∏ –ø–æ—Å–ª–µ undo', children: [] },

            // 18. Refs –≤ CRDT (–∫—Ä–∏—Ç–µ—Ä–∏–π 18)
            { id: 'q18', x: 2500, y: 1600, type: 'question', title: '‚ùì Refs –≤ CRDT?', description: 'References –∏ backlinks first-class –≤ CRDT', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: First-class | –í—Ç–æ—Ä–∏—á–Ω—ã–µ', children: ['refs-crdt-first', 'refs-crdt-secondary'] },
            { id: 'refs-crdt-first', x: 2200, y: 1800, type: 'critical', title: '‚úÖ First-class', description: '–°—Å—ã–ª–∫–∏ –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã CRDT', details: '‚ûï –ë—ã—Å—Ç—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã, —Ç—Ä–∞–Ω—Å–ª—é–∑–∏—è ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å', children: [] },
            { id: 'refs-crdt-secondary', x: 2800, y: 1800, type: 'important', title: 'üîÑ –í—Ç–æ—Ä–∏—á–Ω—ã–µ', description: '–°—Å—ã–ª–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ç–µ–∫—Å—Ç–µ', details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ ‚ûñ –ú–µ–¥–ª–µ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏', children: [] },

            // 19. –ü–ª–æ—Å–∫–∏–π –≥—Ä–∞—Ñ (–∫—Ä–∏—Ç–µ—Ä–∏–π 19)
            { id: 'q19', x: 3500, y: 1600, type: 'question', title: '‚ùì –ü–ª–æ—Å–∫–∏–π –≥—Ä–∞—Ñ?', description: '–ë–ª–æ–∫–∏ ‚â† —Å—Ç—Ä–∞–Ω–∏—Ü—ã', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –ü–ª–æ—Å–∫–∏–π –≥—Ä–∞—Ñ | –ò–µ—Ä–∞—Ä—Ö–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü', children: ['flat-graph', 'page-hierarchy'] },
            { id: 'flat-graph', x: 3200, y: 1800, type: 'critical', title: '‚úÖ –ü–ª–æ—Å–∫–∏–π –≥—Ä–∞—Ñ', description: '–í—Å–µ –±–ª–æ–∫–∏ —Ä–∞–≤–Ω–æ–ø—Ä–∞–≤–Ω—ã', details: '‚ûï –ì–∏–±–∫–∏–µ transclusion –∏ queries ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏', children: [] },
            { id: 'page-hierarchy', x: 3800, y: 1800, type: 'rejected', title: '‚ùå –ò–µ—Ä–∞—Ä—Ö–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü', description: '–ë–ª–æ–∫–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º', details: '‚ûï –ü—Ä–æ—Å—Ç–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è ‚ûñ –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Ç—Ä–∞–Ω—Å–ª—é–∑–∏—é', children: [] },

            // 20. –ë–µ–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–∫—Ä–∏—Ç–µ—Ä–∏–π 20)
            { id: 'q20', x: 4500, y: 1600, type: 'question', title: '‚ùì –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ?', description: '–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ mutable —Å–æ—Å—Ç–æ—è–Ω–∏—è', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –õ–æ–∫–∞–ª—å–Ω–æ–µ | –ì–ª–æ–±–∞–ª—å–Ω–æ–µ', children: ['no-global-state', 'global-state'] },
            { id: 'no-global-state', x: 4200, y: 1800, type: 'critical', title: '‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–µ', description: '–ù–∏–∫–∞–∫–æ–≥–æ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ mutable —Å–æ—Å—Ç–æ—è–Ω–∏—è', details: '‚ûï –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å, –æ—Ç–ª–∞–¥–∫–∞ ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å', children: [] },
            { id: 'global-state', x: 4800, y: 1800, type: 'rejected', title: '‚ùå –ì–ª–æ–±–∞–ª—å–Ω–æ–µ', description: '–û–±—â–µ–µ mutable —Å–æ—Å—Ç–æ—è–Ω–∏–µ', details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ ‚ûñ Race conditions, –±–∞–≥–∏', children: [] },

            // 21. Virtual scrolling (–∫—Ä–∏—Ç–µ—Ä–∏–π 21)
            { id: 'q21', x: 500, y: 2100, type: 'question', title: '‚ùì Virtual scrolling?', description: '–†–∞–±–æ—Ç–∞ —Å 100–∫+ –±–ª–æ–∫–æ–≤', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: Virtual scrolling | Lazy loading', children: ['virtual-scrolling', 'lazy-loading'] },
            { id: 'virtual-scrolling', x: 200, y: 2300, type: 'critical', title: '‚úÖ Virtual scrolling', description: '–†–µ–Ω–¥–µ—Ä —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤', details: '‚ûï 100–∫+ –±–ª–æ–∫–æ–≤ –±–µ–∑ —Ç–æ—Ä–º–æ–∑–æ–≤ ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å', children: [] },
            { id: 'lazy-loading', x: 800, y: 2300, type: 'important', title: '‚ö° Lazy loading', description: '–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é', details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ ‚ûñ –ü—Ä–∏–≤—ã—á–∫–∞ ¬´–≤—Å—ë –≤ DOM¬ª', children: [] },

            // 22. Web Workers (–∫—Ä–∏—Ç–µ—Ä–∏–π 22)
            { id: 'q22', x: 1500, y: 2100, type: 'question', title: '‚ùì Web Workers?', description: '–¢—è–∂—ë–ª—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ | –¢–æ–ª—å–∫–æ –ø–æ–∏—Å–∫', children: ['web-workers-all', 'web-workers-search'] },
            { id: 'web-workers-all', x: 1200, y: 2300, type: 'critical', title: '‚úÖ –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏', description: '–ü–æ–∏—Å–∫, –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è, CRDT', details: '‚ûï UI –æ—Å—Ç–∞—ë—Ç—Å—è –æ—Ç–∑—ã–≤—á–∏–≤—ã–º ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å API', children: [] },
            { id: 'web-workers-search', x: 1800, y: 2300, type: 'important', title: 'üîç –¢–æ–ª—å–∫–æ –ø–æ–∏—Å–∫', description: '–ü–æ–∏—Å–∫ –∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤ Workers', details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ ‚ûñ UI –±—É–¥–µ—Ç –∑–∞–≤–∏—Å–∞—Ç—å', children: [] },

            // 23. Circular Detection (–∫—Ä–∏—Ç–µ—Ä–∏–π 23)
            { id: 'q23', x: 2500, y: 2100, type: 'question', title: '‚ùì –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ü–∏–∫–ª–æ–≤?', description: 'Circular Reference Detection', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –ü—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–µ | –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏', children: ['circular-render', 'circular-creation'] },
            { id: 'circular-render', x: 2200, y: 2300, type: 'critical', title: '‚úÖ –ü—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–µ', description: '–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏', details: '‚ûï –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å ‚ûñ –ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã', children: [] },
            { id: 'circular-creation', x: 2800, y: 2300, type: 'important', title: '‚öôÔ∏è –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏', description: '–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Ü–∏–∫–ª–æ–≤', details: '‚ûï –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚ûñ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è UX', children: [] },

            // 24. E2EE –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å (–∫—Ä–∏—Ç–µ—Ä–∏–π 24)
            { id: 'q24', x: 3500, y: 2100, type: 'question', title: '‚ùì E2EE –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å?', description: '–§–æ—Ä–º–∞—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è –≥–æ—Ç–æ–≤ –∫ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—é', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –° –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è | –ü–æ—Ç–æ–º', children: ['e2ee-ready', 'e2ee-later'] },
            { id: 'e2ee-ready', x: 3200, y: 2300, type: 'critical', title: '‚úÖ –° –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è', description: '–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ E2EE', details: '‚ûï –ù–∏–∫–∞–∫–∏—Ö breaking changes ‚ûñ –£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ', children: [] },
            { id: 'e2ee-later', x: 3800, y: 2300, type: 'important', title: '‚è≥ –ü–æ—Ç–æ–º', description: '–î–æ–±–∞–≤–∏–º –ø–æ–∑–∂–µ', details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Å—Ç–∞—Ä—Ç–∞ ‚ûñ –ù–µ–≤–æ–∑–º–æ–∂–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è', children: [] },

            // 25. –ö–æ–Ω—Ñ–ª–∏–∫—Ç-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç (–∫—Ä–∏—Ç–µ—Ä–∏–π 25)
            { id: 'q25', x: 4500, y: 2100, type: 'question', title: '‚ùì –ö–æ–Ω—Ñ–ª–∏–∫—Ç-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç?', description: '–ü—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: CRDT merge | –†—É—á–Ω–æ–µ', children: ['crdt-merge', 'manual-merge'] },
            { id: 'crdt-merge', x: 4200, y: 2300, type: 'critical', title: '‚úÖ CRDT merge', description: '–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–ª–∏—è–Ω–∏–µ', details: '‚ûï –û—Ñ—Ñ–ª–∞–π–Ω-first –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ ‚ûñ –ù–µ –≤—Å–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Ä–∞–∑—Ä–µ—à–∏–º—ã', children: [] },
            { id: 'manual-merge', x: 4800, y: 2300, type: 'rejected', title: '‚ùå –†—É—á–Ω–æ–µ', description: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã', details: '‚ûï –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å ‚ûñ –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö', children: [] },

            // 26. –ü–ª–∞–≥–∏–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (–∫—Ä–∏—Ç–µ—Ä–∏–π 26)
            { id: 'q26', x: 500, y: 2600, type: 'question', title: '‚ùì –ü–ª–∞–≥–∏–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞?', description: '–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –±–ª–æ–∫–∏ –∫–∞–∫ –ø–ª–∞–≥–∏–Ω—ã', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ | –†–∞–∑–Ω—ã–µ API', children: ['plugin-unified', 'plugin-mixed'] },
            { id: 'plugin-unified', x: 200, y: 2800, type: 'critical', title: '‚úÖ –ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞', description: '–ï–¥–∏–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –≤—Å–µ—Ö –±–ª–æ–∫–æ–≤', details: '‚ûï –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚ûñ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è', children: [] },
            { id: 'plugin-mixed', x: 800, y: 2800, type: 'rejected', title: '‚ùå –†–∞–∑–Ω—ã–µ API', description: '–†–∞–∑–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è', details: '‚ûï –ì–∏–±–∫–æ—Å—Ç—å ‚ûñ –•–∞–æ—Å, –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å', children: [] },

            // 27. –ö–æ–º–ø–æ–∑–∏—Ç–Ω—ã–µ –±–ª–æ–∫–∏ (–∫—Ä–∏—Ç–µ—Ä–∏–π 27)
            { id: 'q27', x: 1500, y: 2600, type: 'question', title: '‚ùì –ö–æ–º–ø–æ–∑–∏—Ç–Ω—ã–µ –±–ª–æ–∫–∏?', description: '–ö–∞—Å—Ç–æ–º–Ω—ã–µ –±–ª–æ–∫–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –¥—Ä—É–≥–∏–µ', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ | –¢–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç—ã–µ', children: ['composite-blocks', 'simple-blocks'] },
            { id: 'composite-blocks', x: 1200, y: 2800, type: 'critical', title: '‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞', description: '–°–ª–æ–∂–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–∫–∞—Ä—Ç–æ—á–∫–∏, –¥–∞—à–±–æ—Ä–¥—ã)', details: '‚ûï –ú–æ—â–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏', children: [] },
            { id: 'simple-blocks', x: 1800, y: 2800, type: 'important', title: 'üìù –¢–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç—ã–µ', description: '–û–±—ã—á–Ω—ã–µ –±–ª–æ–∫–∏ –±–µ–∑ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏', details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ ‚ûñ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏', children: [] },

            // 28. –°–æ—Å—Ç–æ—è–Ω–∏–µ –±–ª–æ–∫–æ–≤ (–∫—Ä–∏—Ç–µ—Ä–∏–π 28)
            { id: 'q28', x: 2500, y: 2600, type: 'question', title: '‚ùì –°–æ—Å—Ç–æ—è–Ω–∏–µ –±–ª–æ–∫–æ–≤?', description: '–ö–∞–∂–¥—ã–π –±–ª–æ–∫ –º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: JSON —Å–æ—Å—Ç–æ—è–Ω–∏–µ | –ü—Ä–æ—Å—Ç–æ–µ', children: ['block-state-json', 'block-state-simple'] },
            { id: 'block-state-json', x: 2200, y: 2800, type: 'critical', title: '‚úÖ JSON —Å–æ—Å—Ç–æ—è–Ω–∏–µ', description: '–ü–ª–∞–≥–∏–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏', details: '‚ûï –í–∏–¥–∂–µ—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚ûñ –£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏', children: [] },
            { id: 'block-state-simple', x: 2800, y: 2800, type: 'important', title: 'üìù –ü—Ä–æ—Å—Ç–æ–µ', description: '–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ', details: '‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ –º–æ–¥–µ–ª–∏ ‚ûñ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã', children: [] },

            // 29. –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –∫–æ–¥–∞ (–∫—Ä–∏—Ç–µ—Ä–∏–π 29)
            { id: 'q29', x: 3500, y: 2600, type: 'question', title: '‚ùì –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –∫–æ–¥–∞?', description: '–§–∞–π–ª—ã ‚â§500 —Å—Ç—Ä–æ–∫, —Ñ—É–Ω–∫—Ü–∏–∏ ‚â§50', details: '–í–∞—Ä–∏–∞–Ω—Ç—ã: –ú–æ–¥—É–ª—å–Ω—ã–π | –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π', children: ['modular-code', 'monolith-code'] },
            { id: 'modular-code', x: 3200, y: 2800, type: 'critical', title: '‚úÖ –ú–æ–¥—É–ª—å–Ω—ã–π', description: '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å', details: '‚ûï –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å, AI-friendly ‚ûñ –ú–Ω–æ–≥–æ —Ñ–∞–π–ª–æ–≤', children: [] },
            { id: 'monolith-code', x: 3800, y: 2800, type: 'rejected', title: '‚ùå –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π', description: '–ë–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏', details: '‚ûï –ú–µ–Ω—å—à–µ —Ñ–∞–π–ª–æ–≤ ‚ûñ –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞', children: [] }
        ];

        let scale = 0.2;
        let translateX = 100;
        let translateY = 50;
        let isDragging = false;
        let lastMouseX = 0;
        let lastMouseY = 0;

        function createNode(node) {
            const div = document.createElement('div');
            div.className = `node ${node.type}`;
            div.style.left = node.x + 'px';
            div.style.top = node.y + 'px';
            
            const badge = node.type === 'critical' ? '–ö–†–ò–¢–ò–ß–ù–û' : 
                         node.type === 'important' ? '–í–ê–ñ–ù–û' : 
                         node.type === 'flexible' ? '–ì–ò–ë–ö–û' :
                         node.type === 'question' ? '–í–û–ü–†–û–°' : '–û–¢–ö–õ–û–ù–ï–ù–û';
            
            div.innerHTML = `
                <div class="badge ${node.type}">${badge}</div>
                <h3>${node.title}</h3>
                <p>${node.description}</p>
                <div class="details">${node.details}</div>
            `;
            
            return div;
        }

        function createConnection(from, to, type) {
            const line = document.createElement('div');
            line.className = `connection ${type}`;
            
            const dx = to.x - from.x;
            const dy = to.y - from.y;
            const length = Math.sqrt(dx * dx + dy * dy);
            const angle = Math.atan2(dy, dx) * 180 / Math.PI;
            
            line.style.left = (from.x + 160) + 'px';
            line.style.top = (from.y + 60) + 'px';
            line.style.width = length + 'px';
            line.style.transform = `rotate(${angle}deg)`;
            
            return line;
        }

        function createCompatibilityLine(node1, node2, compatibility) {
            const line = document.createElement('div');
            line.className = 'compatibility-line';
            line.style.position = 'absolute';
            line.style.height = '2px';
            line.style.background = compatibility === '–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å' ? '#3fb950' : 
                                   compatibility === '–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å' ? '#f79009' : '#f85149';
            line.style.opacity = '0.6';
            line.style.zIndex = '-2';
            
            const startX = Math.min(node1.x, node2.x) + 160;
            const endX = Math.max(node1.x, node2.x) + 160;
            const y = node1.y + 60;
            
            line.style.left = startX + 'px';
            line.style.top = y + 'px';
            line.style.width = (endX - startX) + 'px';
            
            const label = document.createElement('div');
            label.style.position = 'absolute';
            label.style.left = ((endX - startX) / 2 - 30) + 'px';
            label.style.top = '-20px';
            label.style.fontSize = '10px';
            label.style.color = '#8b949e';
            label.style.background = '#0d1117';
            label.style.padding = '2px 6px';
            label.style.borderRadius = '4px';
            label.style.whiteSpace = 'nowrap';
            label.textContent = compatibility;
            
            line.appendChild(label);
            return line;
        }

        function initCanvas() {
            const canvas = document.getElementById('canvas');
            const nodeMap = {};
            
            nodes.forEach(node => {
                const nodeEl = createNode(node);
                canvas.appendChild(nodeEl);
                nodeMap[node.id] = node;
            });
            
            nodes.forEach(node => {
                if (node.children) {
                    node.children.forEach(childId => {
                        const child = nodeMap[childId];
                        if (child) {
                            const connection = createConnection(node, child, node.type);
                            canvas.appendChild(connection);
                        }
                    });
                }
            });
            
            Object.keys(compatibility).forEach(key => {
                const [id1, id2] = key.split(',');
                const node1 = nodeMap[id1];
                const node2 = nodeMap[id2];
                
                if (node1 && node2) {
                    const compatLine = createCompatibilityLine(node1, node2, compatibility[key]);
                    canvas.appendChild(compatLine);
                }
            });
            
            document.getElementById('nodeCount').textContent = nodes.length;
        }

        function updateTransform() {
            const canvas = document.getElementById('canvas');
            canvas.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
            document.getElementById('zoomLevel').textContent = Math.round(scale * 100) + '%';
        }

        function resetView() {
            scale = 0.2;
            translateX = 100;
            translateY = 50;
            updateTransform();
        }

        function centerView() {
            translateX = 100;
            translateY = 50;
            updateTransform();
        }

        const viewport = document.getElementById('viewport');

        viewport.addEventListener('wheel', (e) => {
            e.preventDefault();
            
            const rect = viewport.getBoundingClientRect();
            const mouseX = e.clientX - rect.left;
            const mouseY = e.clientY - rect.top;
            
            const delta = e.deltaY > 0 ? 0.9 : 1.1;
            const newScale = Math.max(0.1, Math.min(3, scale * delta));
            
            const canvasX = (mouseX - translateX) / scale;
            const canvasY = (mouseY - translateY) / scale;
            
            scale = newScale;
            
            translateX = mouseX - canvasX * scale;
            translateY = mouseY - canvasY * scale;
            
            updateTransform();
        });

        viewport.addEventListener('mousedown', (e) => {
            if (e.button === 0) {
                isDragging = true;
                lastMouseX = e.clientX;
                lastMouseY = e.clientY;
                viewport.classList.add('dragging');
            }
        });

        document.addEventListener('mousemove', (e) => {
            if (isDragging) {
                const deltaX = e.clientX - lastMouseX;
                const deltaY = e.clientY - lastMouseY;
                translateX += deltaX;
                translateY += deltaY;
                lastMouseX = e.clientX;
                lastMouseY = e.clientY;
                updateTransform();
            }
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
            viewport.classList.remove('dragging');
        });

        initCanvas();
        updateTransform();
    </script>
</body>
</html>