{
  "nodes": {
    "q1": { 
      "id": "q1", "x": 500, "y": 100, "type": "question", 
      "title": "‚ùì –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –¥–≤–∏–∂–∫–∞?", 
      "description": "–Ø–¥—Ä–æ –æ—Ç–¥–µ–ª–µ–Ω–æ –æ—Ç UI –∏ –ø–ª–∞–≥–∏–Ω–æ–≤", 
      "details": "–í–∞—Ä–∏–∞–Ω—Ç—ã: –ú–æ–¥—É–ª—å–Ω–∞—è | –ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è", 
      "children": ["modular-arch", "monolith-arch"], 
      "criteriaId": 1,
      "phase": "foundation",
      "priority": "critical",
      "enables": [11, 12, 26, 29],
      "blocks": []
    },
    "modular-arch": { 
      "id": "modular-arch", "x": 200, "y": 300, "type": "critical", 
      "title": "‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è", 
      "description": "–Ø–¥—Ä–æ –ª–µ–≥–∫–æ –æ—Ç–¥–µ–ª—è–µ—Ç—Å—è", 
      "details": "‚ûï –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –∑–∞–º–µ–Ω–∞ UI ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å", 
      "children": [], 
      "criteriaId": 1,
      "phase": "foundation",
      "developmentOrder": 1,
      "estimatedWeeks": 2,
      "enables": ["MODULE_Core_VER_1", "MODULE_UI_VER_1", "MODULE_Plugin_VER_1"],
      "blocks": ["q11", "q12", "q26", "q29"]
    },
    "monolith-arch": { 
      "id": "monolith-arch", "x": 800, "y": 300, "type": "rejected", 
      "title": "‚ùå –ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è", 
      "description": "–í—Å—ë –≤ –æ–¥–Ω–æ–º –º–æ–¥—É–ª–µ", 
      "details": "‚ûï –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç ‚ûñ –°–ø–∞–≥–µ—Ç—Ç–∏-–∫–æ–¥", 
      "children": [], 
      "criteriaId": 1,
      "incompatible": ["modular-arch"]
    },
    "q2": { 
      "id": "q2", "x": 1500, "y": 100, "type": "question", 
      "title": "‚ùì –ë–ª–æ—á–Ω–æ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç–æ–≤?", 
      "description": "–í—Å—ë —è–≤–ª—è–µ—Ç—Å—è –±–ª–æ–∫–∞–º–∏", 
      "details": "–í–∞—Ä–∏–∞–Ω—Ç—ã: –í—Å—ë –±–ª–æ–∫–∏ | –°–º–µ—à–∞–Ω–Ω–∞—è", 
      "children": ["all-blocks", "mixed-model"], 
      "criteriaId": 2,
      "phase": "foundation",
      "priority": "critical",
      "enables": [4, 7, 8, 16, 18, 19]
    },
    "all-blocks": { 
      "id": "all-blocks", "x": 1200, "y": 300, "type": "critical", 
      "title": "‚úÖ –í—Å—ë - –±–ª–æ–∫–∏", 
      "description": "–ï–¥–∏–Ω–∞—è –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö", 
      "details": "‚ûï –ï–¥–∏–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å", 
      "children": [], 
      "criteriaId": 2,
      "phase": "foundation",
      "developmentOrder": 1,
      "estimatedWeeks": 3,
      "enables": ["block_schema.json", "CRDT operations"],
      "blocks": ["q4", "q7", "q8", "q16", "q18", "q19"]
    },
    "mixed-model": { 
      "id": "mixed-model", "x": 1800, "y": 300, "type": "rejected", 
      "title": "‚ùå –°–º–µ—à–∞–Ω–Ω–∞—è", 
      "description": "–ë–ª–æ–∫–∏ + –æ—Å–æ–±—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏", 
      "details": "‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ ‚ûñ –õ–æ–º–∞—é—Ç—Å—è refs", 
      "children": [], 
      "criteriaId": 2,
      "incompatible": ["all-blocks"]
    },
    "q3": { 
      "id": "q3", "x": 2500, "y": 100, "type": "question", 
      "title": "‚ùì UUID –¥–ª—è –±–ª–æ–∫–æ–≤?", 
      "description": "–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ ID", 
      "details": "–í–∞—Ä–∏–∞–Ω—Ç—ã: UUID v4 | UUID v7", 
      "children": ["uuid-v4", "uuid-v7"], 
      "criteriaId": 3,
      "phase": "foundation",
      "priority": "critical",
      "enables": [7, 8, 18]
    },
    "uuid-v4": { 
      "id": "uuid-v4", "x": 2200, "y": 300, "type": "critical", 
      "title": "üé≤ UUID v4", 
      "description": "–°–ª—É—á–∞–π–Ω—ã–µ UUID", 
      "details": "‚ûï –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ ‚ûñ –ù–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏", 
      "children": [], 
      "criteriaId": 3,
      "phase": "foundation",
      "developmentOrder": 1,
      "estimatedWeeks": 1,
      "enables": ["refs system", "backlinks"],
      "switchable": ["uuid-v7"]
    },
    "uuid-v7": { 
      "id": "uuid-v7", "x": 2800, "y": 300, "type": "important", 
      "title": "‚è∞ UUID v7", 
      "description": "UUID —Å timestamp", 
      "details": "‚ûï –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ ‚ûñ –ù–æ–≤—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç", 
      "children": [], 
      "criteriaId": 3,
      "switchable": ["uuid-v4"]
    },
    "q13": { 
      "id": "q13", "x": 2500, "y": 1100, "type": "question", 
      "title": "‚ùì –ö–∞–∫—É—é CRDT?", 
      "description": "Single source of truth", 
      "details": "–í–∞—Ä–∏–∞–Ω—Ç—ã: Yjs | Automerge", 
      "children": ["yjs-crdt", "automerge-crdt"], 
      "criteriaId": 13,
      "phase": "foundation",
      "priority": "critical",
      "enables": [14, 16, 18, 25]
    },
    "yjs-crdt": { 
      "id": "yjs-crdt", "x": 2200, "y": 1300, "type": "critical", 
      "title": "‚úÖ Yjs", 
      "description": "–ë—ã—Å—Ç—Ä–∞—è, –ø–æ–ø—É–ª—è—Ä–Ω–∞—è CRDT", 
      "details": "‚ûï –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, WebRTC ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å API", 
      "children": [], 
      "criteriaId": 13,
      "phase": "foundation",
      "developmentOrder": 2,
      "estimatedWeeks": 4,
      "enables": ["MODULE_CRDT_VER_1", "sync system"],
      "switchable": ["automerge-crdt"],
      "blocks": ["q14", "q16", "q18", "q25"]
    },
    "automerge-crdt": { 
      "id": "automerge-crdt", "x": 2800, "y": 1300, "type": "important", 
      "title": "‚ö° Automerge", 
      "description": "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è CRDT", 
      "details": "‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ API ‚ûñ –ú–µ–¥–ª–µ–Ω–Ω–µ–µ Yjs", 
      "children": [], 
      "criteriaId": 13,
      "switchable": ["yjs-crdt"]
    },
    "q11": { 
      "id": "q11", "x": 500, "y": 1100, "type": "question", 
      "title": "‚ùì –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π UI?", 
      "description": "100% –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä", 
      "details": "–í–∞—Ä–∏–∞–Ω—Ç—ã: –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π | –ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π", 
      "children": ["declarative-ui", "imperative-ui"], 
      "criteriaId": 11,
      "phase": "core",
      "priority": "critical",
      "dependsOn": [1],
      "enables": [12, 20, 21]
    },
    "declarative-ui": { 
      "id": "declarative-ui", "x": 200, "y": 1300, "type": "critical", 
      "title": "‚úÖ –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π", 
      "description": "JSON-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, —á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏", 
      "details": "‚ûï –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å, –æ—Ç–ª–∞–¥–∫–∞ ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å", 
      "children": [], 
      "criteriaId": 11,
      "phase": "core",
      "developmentOrder": 3,
      "estimatedWeeks": 3,
      "dependsOn": ["modular-arch"],
      "enables": ["MODULE_UI_VER_1", "render system"],
      "incompatible": ["imperative-ui"],
      "blocks": ["q12", "q20", "q21"]
    },
    "imperative-ui": { 
      "id": "imperative-ui", "x": 800, "y": 1300, "type": "rejected", 
      "title": "‚ùå –ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π", 
      "description": "–û–±—ã—á–Ω—ã–π –∫–æ–¥ —Å –º—É—Ç–∞—Ü–∏—è–º–∏", 
      "details": "‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ ‚ûñ –ù–µ–æ–±—ä—è—Å–Ω–∏–º—ã–µ –±–∞–≥–∏", 
      "children": [], 
      "criteriaId": 11,
      "incompatible": ["declarative-ui"]
    },
    "q12": { 
      "id": "q12", "x": 1500, "y": 1100, "type": "question", 
      "title": "‚ùì Zero runtime logic?", 
      "description": "–ß–∏—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∞", 
      "details": "–í–∞—Ä–∏–∞–Ω—Ç—ã: –ß–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ | Stateful", 
      "children": ["zero-runtime", "stateful-runtime"], 
      "criteriaId": 12,
      "phase": "core",
      "priority": "critical",
      "dependsOn": [11]
    },
    "zero-runtime": { 
      "id": "zero-runtime", "x": 1200, "y": 1300, "type": "critical", 
      "title": "‚úÖ –ß–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏", 
      "description": "–ù–∏–∫–∞–∫–æ–π runtime –ª–æ–≥–∏–∫–∏ –≤ —Ä–µ–Ω–¥–µ—Ä–µ", 
      "details": "‚ûï –ù–µ—Ç race conditions ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏", 
      "children": [], 
      "criteriaId": 12,
      "phase": "core",
      "developmentOrder": 4,
      "estimatedWeeks": 2,
      "dependsOn": ["declarative-ui"],
      "enables": ["pure render functions"],
      "incompatible": ["stateful-runtime"]
    },
    "stateful-runtime": { 
      "id": "stateful-runtime", "x": 1800, "y": 1300, "type": "rejected", 
      "title": "‚ùå Stateful", 
      "description": "–õ–æ–≥–∏–∫–∞ –≤ —Ä–µ–Ω–¥–µ—Ä–µ", 
      "details": "‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ ‚ûñ –ì–ª—é–∫–∏ —á–µ—Ä–µ–∑ 30-40 –ø–ª–∞–≥–∏–Ω–æ–≤", 
      "children": [], 
      "criteriaId": 12,
      "incompatible": ["zero-runtime"]
    },
    "q21": { 
      "id": "q21", "x": 500, "y": 2100, "type": "question", 
      "title": "‚ùì Virtual scrolling?", 
      "description": "–†–∞–±–æ—Ç–∞ —Å 100–∫+ –±–ª–æ–∫–æ–≤", 
      "details": "–í–∞—Ä–∏–∞–Ω—Ç—ã: Virtual scrolling | Lazy loading", 
      "children": ["virtual-scrolling", "lazy-loading"], 
      "criteriaId": 21,
      "phase": "features",
      "priority": "critical",
      "dependsOn": [11]
    },
    "virtual-scrolling": { 
      "id": "virtual-scrolling", "x": 200, "y": 2300, "type": "critical", 
      "title": "‚úÖ Virtual scrolling", 
      "description": "–†–µ–Ω–¥–µ—Ä —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤", 
      "details": "‚ûï 100–∫+ –±–ª–æ–∫–æ–≤ –±–µ–∑ —Ç–æ—Ä–º–æ–∑–æ–≤ ‚ûñ –°–ª–æ–∂–Ω–æ—Å—Ç—å", 
      "children": [], 
      "criteriaId": 21,
      "phase": "features",
      "developmentOrder": 5,
      "estimatedWeeks": 4,
      "dependsOn": ["declarative-ui"],
      "enables": ["performance optimization"],
      "combinable": ["lazy-loading"]
    },
    "lazy-loading": { 
      "id": "lazy-loading", "x": 800, "y": 2300, "type": "important", 
      "title": "‚ö° Lazy loading", 
      "description": "–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é", 
      "details": "‚ûï –ü—Ä–æ—Å—Ç–æ—Ç–∞ ‚ûñ –ü—Ä–∏–≤—ã—á–∫–∞ ¬´–≤—Å—ë –≤ DOM¬ª", 
      "children": [], 
      "criteriaId": 21,
      "combinable": ["virtual-scrolling"]
    },
    "q26": { 
      "id": "q26", "x": 500, "y": 2600, "type": "question", 
      "title": "‚ùì –ü–ª–∞–≥–∏–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞?", 
      "description": "–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –±–ª–æ–∫–∏ –∫–∞–∫ –ø–ª–∞–≥–∏–Ω—ã", 
      "details": "–í–∞—Ä–∏–∞–Ω—Ç—ã: –ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ | –†–∞–∑–Ω—ã–µ API", 
      "children": ["plugin-unified", "plugin-mixed"], 
      "criteriaId": 26,
      "phase": "features",
      "priority": "critical",
      "dependsOn": [1, 11],
      "enables": [27, 28]
    },
    "plugin-unified": { 
      "id": "plugin-unified", "x": 200, "y": 2800, "type": "critical", 
      "title": "‚úÖ –ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞", 
      "description": "–ï–¥–∏–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –≤—Å–µ—Ö –±–ª–æ–∫–æ–≤", 
      "details": "‚ûï –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚ûñ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è", 
      "children": [], 
      "criteriaId": 26,
      "phase": "features",
      "developmentOrder": 6,
      "estimatedWeeks": 5,
      "dependsOn": ["modular-arch", "declarative-ui"],
      "enables": ["MODULE_Plugin_VER_1", "plugin ecosystem"],
      "incompatible": ["plugin-mixed"],
      "blocks": ["q27", "q28"]
    },
    "plugin-mixed": { 
      "id": "plugin-mixed", "x": 800, "y": 2800, "type": "rejected", 
      "title": "‚ùå –†–∞–∑–Ω—ã–µ API", 
      "description": "–†–∞–∑–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è", 
      "details": "‚ûï –ì–∏–±–∫–æ—Å—Ç—å ‚ûñ –•–∞–æ—Å, –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å", 
      "children": [], 
      "criteriaId": 26,
      "incompatible": ["plugin-unified"]
    }
  },
  "dependencies": {
    "hard": {
      "1": { "enables": [11, 12, 26, 29], "description": "–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å enables UI, –ø–ª–∞–≥–∏–Ω—ã, –∫–æ–¥" },
      "2": { "enables": [4, 7, 8, 16, 18, 19], "description": "–ë–ª–æ–∫–∏ enable —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ —Å—Å—ã–ª–∫–∏" },
      "3": { "enables": [7, 8, 18], "description": "UUID enables —Å—Å—ã–ª–∫–∏" },
      "13": { "enables": [14, 16, 18, 25], "description": "CRDT enables –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é" },
      "11": { "enables": [12, 20, 21], "description": "–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π UI enables —Ä–µ–Ω–¥–µ—Ä" },
      "26": { "enables": [27, 28], "description": "–ü–ª–∞–≥–∏–Ω—ã enable –∫–æ–º–ø–æ–∑–∏—Ç—ã –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ" }
    },
    "soft": {
      "21": { "enhances": [22], "description": "Virtual scrolling + Web Workers" },
      "5": { "enhances": [6], "description": "Drag&Drop + Rich Text UX" }
    }
  },
  "development_phases": {
    "phase1_foundation": {
      "priority": 1,
      "criteria": [1, 2, 3, 13],
      "nodes": ["modular-arch", "all-blocks", "uuid-v4", "yjs-crdt"],
      "description": "–ù–µ—Å—É—â–∏–µ —Å—Ç–µ–Ω—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã",
      "estimated_weeks": 4,
      "parallel": false
    },
    "phase2_core": {
      "priority": 2,
      "criteria": [11, 12, 4, 7, 8],
      "nodes": ["declarative-ui", "zero-runtime", "nested-blocks", "refs-uuid", "backlinks-auto"],
      "description": "–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å",
      "depends_on": ["phase1_foundation"],
      "estimated_weeks": 6,
      "parallel": true
    },
    "phase3_features": {
      "priority": 3,
      "criteria": [16, 21, 26, 9, 10],
      "nodes": ["crdt-only", "virtual-scrolling", "plugin-unified", "json-storage", "offline-full"],
      "description": "–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏",
      "depends_on": ["phase2_core"],
      "estimated_weeks": 8,
      "parallel": true
    },
    "phase4_polish": {
      "priority": 4,
      "criteria": [14, 15, 17, 18, 19, 20, 22, 23, 24, 25, 27, 28, 29],
      "description": "–î–æ–≤–æ–¥–∫–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è",
      "depends_on": ["phase3_features"],
      "estimated_weeks": 10,
      "parallel": true
    }
  },
  "compatibility": {
    "modular-arch,monolith-arch": "–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ",
    "all-blocks,mixed-model": "–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ",
    "uuid-v4,uuid-v7": "–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å",
    "declarative-ui,imperative-ui": "–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ",
    "zero-runtime,stateful-runtime": "–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ",
    "yjs-crdt,automerge-crdt": "–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å",
    "virtual-scrolling,lazy-loading": "–æ–±—ä–µ–¥–∏–Ω–∏—Ç—å",
    "plugin-unified,plugin-mixed": "–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ"
  },
  "risk_assessment": {
    "high_risk": {
      "criteria": [13, 21, 26],
      "nodes": ["yjs-crdt", "virtual-scrolling", "plugin-unified"],
      "reason": "–°–ª–æ–∂–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è, –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"
    },
    "medium_risk": {
      "criteria": [11, 12, 16],
      "nodes": ["declarative-ui", "zero-runtime", "crdt-only"],
      "reason": "–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å"
    },
    "low_risk": {
      "criteria": [3, 5, 6, 9, 10],
      "nodes": ["uuid-v4", "drag-drop-native", "markdown-rich", "json-storage", "offline-full"],
      "reason": "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è"
    }
  }
}