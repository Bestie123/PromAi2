<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PromAi Development Plans</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0d1117; color: #c9d1d9; padding: 20px;
        }
        
        .container { max-width: 1600px; margin: 0 auto; }
        h1 { margin-bottom: 20px; color: #58a6ff; }
        
        .plan-selector {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px; margin-bottom: 30px;
        }
        
        .plan-card {
            background: #161b22; border: 2px solid #30363d; border-radius: 12px;
            padding: 20px; cursor: pointer; transition: all 0.2s;
        }
        
        .plan-card:hover { border-color: #58a6ff; transform: translateY(-2px); }
        .plan-card.active { border-color: #58a6ff; background: #1b2332; }
        
        .plan-card h3 { color: #58a6ff; margin-bottom: 10px; }
        .plan-card p { font-size: 13px; color: #8b949e; margin-bottom: 10px; }
        .plan-card .weeks { font-size: 24px; font-weight: bold; color: #3fb950; }
        
        .timeline {
            background: #161b22; border: 2px solid #30363d; border-radius: 12px;
            padding: 30px; margin-bottom: 20px;
        }
        
        .stage {
            background: #21262d; border-left: 4px solid #58a6ff;
            padding: 20px; margin-bottom: 15px; border-radius: 8px;
        }
        
        .stage-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 15px;
        }
        
        .stage-title { font-size: 18px; font-weight: bold; color: #58a6ff; }
        .stage-weeks { background: #3fb950; color: #fff; padding: 4px 12px; border-radius: 6px; font-size: 12px; }
        .stage-parallel { background: #f79009; color: #fff; padding: 4px 12px; border-radius: 6px; font-size: 12px; margin-left: 8px; }
        
        .stage-modules { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 10px; }
        .module-tag { background: #30363d; padding: 4px 10px; border-radius: 6px; font-size: 11px; }
        
        .stage-criteria { font-size: 12px; color: #8b949e; margin-bottom: 10px; }
        .stage-deliverables { font-size: 13px; color: #c9d1d9; }
        .stage-deliverables li { margin-left: 20px; margin-top: 5px; }
        
        .teams { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 15px; }
        .team {
            background: #161b22; border: 1px solid #30363d; padding: 15px; border-radius: 8px;
        }
        .team-name { font-weight: bold; color: #f79009; margin-bottom: 8px; }
        
        .comparison {
            background: #161b22; border: 2px solid #30363d; border-radius: 12px;
            padding: 30px;
        }
        
        .comparison-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px; margin-top: 20px;
        }
        
        .comparison-item h4 { color: #58a6ff; margin-bottom: 10px; }
        .pros { color: #3fb950; }
        .cons { color: #f85149; }
        .pros li, .cons li { margin-left: 20px; margin-top: 5px; font-size: 13px; }
        
        .recommendation {
            background: #1b2332; border: 2px solid #58a6ff; border-radius: 8px;
            padding: 20px; margin-top: 20px;
        }
        
        .recommendation h3 { color: #58a6ff; margin-bottom: 15px; }
        .rec-item { display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid #30363d; }
        .rec-item:last-child { border-bottom: none; }
        .rec-label { font-weight: bold; }
        .rec-value { color: #3fb950; }
        
        .risk-badge {
            display: inline-block; padding: 4px 10px; border-radius: 6px;
            font-size: 11px; font-weight: bold; margin-left: 10px;
        }
        .risk-badge.critical { background: #f85149; color: #fff; }
        .risk-badge.high { background: #f79009; color: #fff; }
        .risk-badge.medium { background: #f79009; color: #fff; opacity: 0.7; }
        .risk-badge.low { background: #3fb950; color: #fff; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìÖ PromAi Development Plans</h1>
        
        <div class="plan-selector" id="planSelector"></div>
        
        <div class="timeline" id="timeline"></div>
        
        <div class="comparison">
            <h2 style="margin-bottom: 20px;">‚öñÔ∏è –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–æ–≤</h2>
            <div class="comparison-grid" id="comparisonGrid"></div>
            
            <div class="recommendation">
                <h3>üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–±–æ—Ä—É</h3>
                <div id="recommendations"></div>
            </div>
        </div>
    </div>

    <script>
        let data = null;
        let currentPlan = null;

        fetch('./development_plans.json')
            .then(r => r.json())
            .then(d => {
                data = d;
                renderPlanSelector();
                renderComparison();
                renderRecommendations();
                selectPlan(data.plans[0].id);
            });

        function renderPlanSelector() {
            const html = data.plans.map(p => `
                <div class="plan-card" onclick="selectPlan('${p.id}')" id="card-${p.id}">
                    <h3>${p.name}</h3>
                    <p>${p.description}</p>
                    <div class="weeks">${p.totalWeeks} –Ω–µ–¥–µ–ª—å</div>
                </div>
            `).join('');
            document.getElementById('planSelector').innerHTML = html;
        }

        function selectPlan(planId) {
            currentPlan = data.plans.find(p => p.id === planId);
            
            document.querySelectorAll('.plan-card').forEach(c => c.classList.remove('active'));
            document.getElementById(`card-${planId}`).classList.add('active');
            
            renderTimeline();
        }

        function renderTimeline() {
            const html = currentPlan.stages.map(stage => {
                const parallelBadge = stage.parallel ? '<span class="stage-parallel">PARALLEL</span>' : '';
                const riskBadge = stage.risk ? `<span class="risk-badge ${stage.risk}">${stage.risk.toUpperCase()}</span>` : '';
                
                let content = `
                    <div class="stage">
                        <div class="stage-header">
                            <div>
                                <span class="stage-title">Stage ${stage.stage}: ${stage.name}</span>
                                ${riskBadge}
                            </div>
                            <div>
                                <span class="stage-weeks">${stage.weeks} weeks</span>
                                ${parallelBadge}
                            </div>
                        </div>
                `;
                
                if (stage.teams) {
                    content += '<div class="teams">';
                    stage.teams.forEach(team => {
                        content += `
                            <div class="team">
                                <div class="team-name">${team.team}</div>
                                <div class="stage-modules">
                                    ${team.modules.map(m => `<span class="module-tag">${m}</span>`).join('')}
                                </div>
                                <div class="stage-criteria">–ö—Ä–∏—Ç–µ—Ä–∏–∏: ${team.criteria.join(', ')}</div>
                            </div>
                        `;
                    });
                    content += '</div>';
                } else {
                    content += `
                        <div class="stage-modules">
                            ${stage.modules.map(m => `<span class="module-tag">${m}</span>`).join('')}
                        </div>
                        <div class="stage-criteria">–ö—Ä–∏—Ç–µ—Ä–∏–∏: ${stage.criteria.join(', ')}</div>
                    `;
                }
                
                if (stage.deliverables) {
                    content += `
                        <div class="stage-deliverables">
                            <strong>Deliverables:</strong>
                            <ul>
                                ${stage.deliverables.map(d => `<li>${d}</li>`).join('')}
                            </ul>
                        </div>
                    `;
                }
                
                if (stage.rationale) {
                    content += `<div style="margin-top: 10px; font-size: 12px; color: #8b949e; font-style: italic;">üí° ${stage.rationale}</div>`;
                }
                
                content += '</div>';
                return content;
            }).join('');
            
            document.getElementById('timeline').innerHTML = html;
        }

        function renderComparison() {
            const html = Object.entries(data.comparison).map(([key, comp]) => {
                const plan = data.plans.find(p => p.id.includes(key));
                return `
                    <div class="comparison-item">
                        <h4>${plan ? plan.name : key}</h4>
                        <div class="pros">
                            <strong>‚úÖ –ü–ª—é—Å—ã:</strong>
                            <ul>
                                ${comp.pros.map(p => `<li>${p}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="cons" style="margin-top: 10px;">
                            <strong>‚ùå –ú–∏–Ω—É—Å—ã:</strong>
                            <ul>
                                ${comp.cons.map(c => `<li>${c}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                `;
            }).join('');
            
            document.getElementById('comparisonGrid').innerHTML = html;
        }

        function renderRecommendations() {
            const html = Object.entries(data.recommendation).map(([context, planId]) => {
                const plan = data.plans.find(p => p.id === planId);
                return `
                    <div class="rec-item">
                        <span class="rec-label">${context === 'solo' ? 'üë§ Solo —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫' : 
                                                   context === 'small-team' ? 'üë• –ú–∞–ª–∞—è –∫–æ–º–∞–Ω–¥–∞ (2-3)' :
                                                   context === 'large-team' ? 'üë•üë• –ë–æ–ª—å—à–∞—è –∫–æ–º–∞–Ω–¥–∞ (4+)' :
                                                   'üè¢ Enterprise'}</span>
                        <span class="rec-value">${plan ? plan.name : planId}</span>
                    </div>
                `;
            }).join('');
            
            document.getElementById('recommendations').innerHTML = html;
        }
    </script>
</body>
</html>
