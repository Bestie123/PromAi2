{
  "variants": [
    {
      "id": "variant-1-dependency-tree",
      "name": "–î–µ—Ä–µ–≤–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–æ–¥—É–ª–µ–π",
      "description": "–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫–∏–µ –º–æ–¥—É–ª–∏ –æ—Ç –∫–∞–∫–∏—Ö –∑–∞–≤–∏—Å—è—Ç",
      "structure": {
        "rootNode": {
          "id": "root",
          "type": "root",
          "title": "üèóÔ∏è PromAi Architecture",
          "children": ["mod-arch"]
        },
        "nodes": [
          {
            "id": "mod-arch",
            "type": "module",
            "title": "–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞",
            "criteria": [1, 29],
            "children": ["mod-block-core"]
          },
          {
            "id": "mod-block-core",
            "type": "module",
            "title": "–ë–ª–æ—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞",
            "criteria": [2, 3, 4],
            "children": ["mod-crdt", "mod-schema", "mod-ui-core"]
          },
          {
            "id": "mod-crdt",
            "type": "module",
            "title": "CRDT Foundation",
            "criteria": [13, 14, 16, 17],
            "children": ["mod-storage", "mod-refs", "mod-workers", "mod-drag-drop", "mod-plugin-core", "mod-sync"]
          },
          {
            "id": "mod-storage",
            "type": "module",
            "title": "Local Storage",
            "criteria": [9, 10, 24],
            "children": ["mod-sync"]
          },
          {
            "id": "mod-refs",
            "type": "module",
            "title": "References System",
            "criteria": [7, 8, 18],
            "children": ["mod-graph", "mod-rich-text"]
          },
          {
            "id": "mod-graph",
            "type": "module",
            "title": "Graph Structure",
            "criteria": [19, 23],
            "children": []
          },
          {
            "id": "mod-schema",
            "type": "module",
            "title": "Schema Validation",
            "criteria": [15],
            "children": []
          },
          {
            "id": "mod-ui-core",
            "type": "module",
            "title": "Declarative UI",
            "criteria": [11, 12, 20],
            "children": ["mod-virtual-scroll", "mod-workers", "mod-rich-text", "mod-drag-drop", "mod-plugin-core"]
          },
          {
            "id": "mod-virtual-scroll",
            "type": "module",
            "title": "Virtual Scrolling",
            "criteria": [21],
            "children": []
          },
          {
            "id": "mod-workers",
            "type": "module",
            "title": "Web Workers",
            "criteria": [22],
            "children": []
          },
          {
            "id": "mod-rich-text",
            "type": "module",
            "title": "Rich Text Editor",
            "criteria": [6],
            "children": []
          },
          {
            "id": "mod-drag-drop",
            "type": "module",
            "title": "Drag & Drop",
            "criteria": [5],
            "children": []
          },
          {
            "id": "mod-plugin-core",
            "type": "module",
            "title": "Plugin System",
            "criteria": [26, 27, 28],
            "children": []
          },
          {
            "id": "mod-sync",
            "type": "module",
            "title": "Sync Engine",
            "criteria": [25],
            "children": []
          }
        ]
      }
    },
    {
      "id": "variant-2-layer-tree",
      "name": "–î–µ—Ä–µ–≤–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Å–ª–æ—ë–≤",
      "description": "–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º —Å–ª–æ—è–º",
      "structure": {
        "rootNode": {
          "id": "root",
          "type": "root",
          "title": "üèóÔ∏è PromAi Layers",
          "children": ["layer-foundation", "layer-data", "layer-ui", "layer-features"]
        },
        "nodes": [
          {
            "id": "layer-foundation",
            "type": "layer",
            "title": "üîß Foundation Layer",
            "description": "–ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞",
            "children": ["mod-arch", "mod-block-core", "mod-crdt", "mod-storage"]
          },
          {
            "id": "layer-data",
            "type": "layer",
            "title": "üíæ Data Layer",
            "description": "–†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏",
            "children": ["mod-refs", "mod-graph", "mod-schema"]
          },
          {
            "id": "layer-ui",
            "type": "layer",
            "title": "üé® UI Layer",
            "description": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å",
            "children": ["mod-ui-core", "mod-virtual-scroll", "mod-workers"]
          },
          {
            "id": "layer-features",
            "type": "layer",
            "title": "‚ú® Features Layer",
            "description": "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å",
            "children": ["mod-rich-text", "mod-drag-drop", "mod-plugin-core", "mod-sync"]
          },
          {
            "id": "mod-arch",
            "type": "module",
            "title": "–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞",
            "criteria": [1, 29],
            "children": []
          },
          {
            "id": "mod-block-core",
            "type": "module",
            "title": "–ë–ª–æ—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞",
            "criteria": [2, 3, 4],
            "children": []
          },
          {
            "id": "mod-crdt",
            "type": "module",
            "title": "CRDT Foundation",
            "criteria": [13, 14, 16, 17],
            "children": []
          },
          {
            "id": "mod-storage",
            "type": "module",
            "title": "Local Storage",
            "criteria": [9, 10, 24],
            "children": []
          },
          {
            "id": "mod-refs",
            "type": "module",
            "title": "References System",
            "criteria": [7, 8, 18],
            "children": []
          },
          {
            "id": "mod-graph",
            "type": "module",
            "title": "Graph Structure",
            "criteria": [19, 23],
            "children": []
          },
          {
            "id": "mod-schema",
            "type": "module",
            "title": "Schema Validation",
            "criteria": [15],
            "children": []
          },
          {
            "id": "mod-ui-core",
            "type": "module",
            "title": "Declarative UI",
            "criteria": [11, 12, 20],
            "children": []
          },
          {
            "id": "mod-virtual-scroll",
            "type": "module",
            "title": "Virtual Scrolling",
            "criteria": [21],
            "children": []
          },
          {
            "id": "mod-workers",
            "type": "module",
            "title": "Web Workers",
            "criteria": [22],
            "children": []
          },
          {
            "id": "mod-rich-text",
            "type": "module",
            "title": "Rich Text Editor",
            "criteria": [6],
            "children": []
          },
          {
            "id": "mod-drag-drop",
            "type": "module",
            "title": "Drag & Drop",
            "criteria": [5],
            "children": []
          },
          {
            "id": "mod-plugin-core",
            "type": "module",
            "title": "Plugin System",
            "criteria": [26, 27, 28],
            "children": []
          },
          {
            "id": "mod-sync",
            "type": "module",
            "title": "Sync Engine",
            "criteria": [25],
            "children": []
          }
        ]
      }
    },
    {
      "id": "variant-3-priority-tree",
      "name": "–î–µ—Ä–µ–≤–æ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º",
      "description": "–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏ –¥–ª—è MVP",
      "structure": {
        "rootNode": {
          "id": "root",
          "type": "root",
          "title": "üéØ PromAi Priorities",
          "children": ["priority-critical", "priority-important", "priority-optional"]
        },
        "nodes": [
          {
            "id": "priority-critical",
            "type": "priority",
            "title": "üî¥ CRITICAL (MVP Blockers)",
            "description": "–ë–µ–∑ —ç—Ç–æ–≥–æ MVP –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω",
            "children": ["mod-arch", "mod-block-core", "mod-crdt", "mod-storage", "mod-refs", "mod-ui-core", "mod-plugin-core"]
          },
          {
            "id": "priority-important",
            "type": "priority",
            "title": "üü† IMPORTANT (MVP Enhanced)",
            "description": "–°–∏–ª—å–Ω–æ —É–ª—É—á—à–∞–µ—Ç MVP",
            "children": ["mod-graph", "mod-schema", "mod-virtual-scroll", "mod-workers", "mod-rich-text"]
          },
          {
            "id": "priority-optional",
            "type": "priority",
            "title": "üü¢ OPTIONAL (Post-MVP)",
            "description": "–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ MVP",
            "children": ["mod-drag-drop", "mod-sync"]
          },
          {
            "id": "mod-arch",
            "type": "module",
            "title": "–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞",
            "criteria": [1, 29],
            "children": []
          },
          {
            "id": "mod-block-core",
            "type": "module",
            "title": "–ë–ª–æ—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞",
            "criteria": [2, 3, 4],
            "children": []
          },
          {
            "id": "mod-crdt",
            "type": "module",
            "title": "CRDT Foundation",
            "criteria": [13, 14, 16, 17],
            "children": []
          },
          {
            "id": "mod-storage",
            "type": "module",
            "title": "Local Storage",
            "criteria": [9, 10, 24],
            "children": []
          },
          {
            "id": "mod-refs",
            "type": "module",
            "title": "References System",
            "criteria": [7, 8, 18],
            "children": []
          },
          {
            "id": "mod-ui-core",
            "type": "module",
            "title": "Declarative UI",
            "criteria": [11, 12, 20],
            "children": []
          },
          {
            "id": "mod-plugin-core",
            "type": "module",
            "title": "Plugin System",
            "criteria": [26, 27, 28],
            "children": []
          },
          {
            "id": "mod-graph",
            "type": "module",
            "title": "Graph Structure",
            "criteria": [19, 23],
            "children": []
          },
          {
            "id": "mod-schema",
            "type": "module",
            "title": "Schema Validation",
            "criteria": [15],
            "children": []
          },
          {
            "id": "mod-virtual-scroll",
            "type": "module",
            "title": "Virtual Scrolling",
            "criteria": [21],
            "children": []
          },
          {
            "id": "mod-workers",
            "type": "module",
            "title": "Web Workers",
            "criteria": [22],
            "children": []
          },
          {
            "id": "mod-rich-text",
            "type": "module",
            "title": "Rich Text Editor",
            "criteria": [6],
            "children": []
          },
          {
            "id": "mod-drag-drop",
            "type": "module",
            "title": "Drag & Drop",
            "criteria": [5],
            "children": []
          },
          {
            "id": "mod-sync",
            "type": "module",
            "title": "Sync Engine",
            "criteria": [25],
            "children": []
          }
        ]
      }
    },
    {
      "id": "variant-4-criteria-tree",
      "name": "–î–µ—Ä–µ–≤–æ –ø–æ –≥—Ä—É–ø–ø–∞–º –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤",
      "description": "–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ç–∏–ø–∞–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π",
      "structure": {
        "rootNode": {
          "id": "root",
          "type": "root",
          "title": "üìã PromAi Criteria Groups",
          "children": ["group-architecture", "group-data-model", "group-ui-rendering", "group-extensibility"]
        },
        "nodes": [
          {
            "id": "group-architecture",
            "type": "group",
            "title": "üèóÔ∏è Architecture & Code",
            "description": "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞ –∏ –º–æ–¥—É–ª–µ–π",
            "children": ["crit-1", "crit-29"]
          },
          {
            "id": "group-data-model",
            "type": "group",
            "title": "üíæ Data Model & Storage",
            "description": "–ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ",
            "children": ["crit-2-4", "crit-7-8", "crit-9-10", "crit-13-18", "crit-19", "crit-23-25"]
          },
          {
            "id": "group-ui-rendering",
            "type": "group",
            "title": "üé® UI & Rendering",
            "description": "–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∞",
            "children": ["crit-11-12", "crit-20-22", "crit-5-6"]
          },
          {
            "id": "group-extensibility",
            "type": "group",
            "title": "üîå Extensibility",
            "description": "–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å –∏ –ø–ª–∞–≥–∏–Ω—ã",
            "children": ["crit-26-28", "crit-15"]
          },
          {
            "id": "crit-1",
            "type": "criteria-group",
            "title": "–ö—Ä–∏—Ç–µ—Ä–∏–π 1: –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –¥–≤–∏–∂–∫–∞",
            "children": ["modular-arch"]
          },
          {
            "id": "crit-29",
            "type": "criteria-group",
            "title": "–ö—Ä–∏—Ç–µ—Ä–∏–π 29: –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –∫–æ–¥–∞",
            "children": ["modular-code"]
          },
          {
            "id": "crit-2-4",
            "type": "criteria-group",
            "title": "–ö—Ä–∏—Ç–µ—Ä–∏–∏ 2-4: –ë–ª–æ—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞",
            "children": ["all-blocks", "uuid-v4", "nested-blocks"]
          },
          {
            "id": "crit-7-8",
            "type": "criteria-group",
            "title": "–ö—Ä–∏—Ç–µ—Ä–∏–∏ 7-8: References & Backlinks",
            "children": ["refs-uuid", "backlinks-auto"]
          },
          {
            "id": "crit-9-10",
            "type": "criteria-group",
            "title": "–ö—Ä–∏—Ç–µ—Ä–∏–∏ 9-10: Storage & Offline",
            "children": ["json-storage", "offline-full"]
          },
          {
            "id": "crit-13-18",
            "type": "criteria-group",
            "title": "–ö—Ä–∏—Ç–µ—Ä–∏–∏ 13-18: CRDT & Operations",
            "children": ["yjs-crdt", "event-sourcing-separate", "crdt-only", "atomic-transactions", "refs-crdt-first"]
          },
          {
            "id": "crit-19",
            "type": "criteria-group",
            "title": "–ö—Ä–∏—Ç–µ—Ä–∏–π 19: –ü–ª–æ—Å–∫–∏–π –≥—Ä–∞—Ñ",
            "children": ["flat-graph"]
          },
          {
            "id": "crit-23-25",
            "type": "criteria-group",
            "title": "–ö—Ä–∏—Ç–µ—Ä–∏–∏ 23-25: Cycles & Sync",
            "children": ["circular-render", "e2ee-ready", "crdt-merge"]
          },
          {
            "id": "crit-11-12",
            "type": "criteria-group",
            "title": "–ö—Ä–∏—Ç–µ—Ä–∏–∏ 11-12: Declarative UI",
            "children": ["declarative-ui", "zero-runtime"]
          },
          {
            "id": "crit-20-22",
            "type": "criteria-group",
            "title": "–ö—Ä–∏—Ç–µ—Ä–∏–∏ 20-22: State & Performance",
            "children": ["no-global-state", "virtual-scrolling", "web-workers-all"]
          },
          {
            "id": "crit-5-6",
            "type": "criteria-group",
            "title": "–ö—Ä–∏—Ç–µ—Ä–∏–∏ 5-6: Editing",
            "children": ["drag-drop-native", "markdown-rich"]
          },
          {
            "id": "crit-26-28",
            "type": "criteria-group",
            "title": "–ö—Ä–∏—Ç–µ—Ä–∏–∏ 26-28: Plugin System",
            "children": ["plugin-unified", "composite-blocks", "block-state-json"]
          },
          {
            "id": "crit-15",
            "type": "criteria-group",
            "title": "–ö—Ä–∏—Ç–µ—Ä–∏–π 15: Schema Validation",
            "children": ["json-schema"]
          },
          {
            "id": "modular-arch",
            "type": "decision",
            "title": "‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞",
            "children": []
          },
          {
            "id": "modular-code",
            "type": "decision",
            "title": "‚úÖ –ú–æ–¥—É–ª—å–Ω—ã–π –∫–æ–¥ (‚â§500 —Å—Ç—Ä–æ–∫)",
            "children": []
          },
          {
            "id": "all-blocks",
            "type": "decision",
            "title": "‚úÖ –í—Å—ë - –±–ª–æ–∫–∏",
            "children": []
          },
          {
            "id": "uuid-v4",
            "type": "decision",
            "title": "‚úÖ UUID v4",
            "children": []
          },
          {
            "id": "nested-blocks",
            "type": "decision",
            "title": "‚úÖ –í–ª–æ–∂–µ–Ω–Ω—ã–µ –±–ª–æ–∫–∏",
            "children": []
          },
          {
            "id": "refs-uuid",
            "type": "decision",
            "title": "‚úÖ Refs –ø–æ UUID",
            "children": []
          },
          {
            "id": "backlinks-auto",
            "type": "decision",
            "title": "‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ backlinks",
            "children": []
          },
          {
            "id": "json-storage",
            "type": "decision",
            "title": "‚úÖ JSON Storage",
            "children": []
          },
          {
            "id": "offline-full",
            "type": "decision",
            "title": "‚úÖ –ü–æ–ª–Ω–∞—è –æ—Ñ—Ñ–ª–∞–π–Ω —Ä–∞–±–æ—Ç–∞",
            "children": []
          },
          {
            "id": "yjs-crdt",
            "type": "decision",
            "title": "‚úÖ Yjs CRDT",
            "children": []
          },
          {
            "id": "event-sourcing-separate",
            "type": "decision",
            "title": "‚úÖ Event Sourcing (–æ—Ç–¥–µ–ª—å–Ω—ã–π –ª–æ–≥)",
            "children": []
          },
          {
            "id": "crdt-only",
            "type": "decision",
            "title": "‚úÖ –¢–æ–ª—å–∫–æ CRDT –æ–ø–µ—Ä–∞—Ü–∏–∏",
            "children": []
          },
          {
            "id": "atomic-transactions",
            "type": "decision",
            "title": "‚úÖ –ê—Ç–æ–º–∞—Ä–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏",
            "children": []
          },
          {
            "id": "refs-crdt-first",
            "type": "decision",
            "title": "‚úÖ Refs first-class –≤ CRDT",
            "children": []
          },
          {
            "id": "flat-graph",
            "type": "decision",
            "title": "‚úÖ –ü–ª–æ—Å–∫–∏–π –≥—Ä–∞—Ñ –±–ª–æ–∫–æ–≤",
            "children": []
          },
          {
            "id": "circular-render",
            "type": "decision",
            "title": "‚úÖ Circular detection –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–µ",
            "children": []
          },
          {
            "id": "e2ee-ready",
            "type": "decision",
            "title": "‚úÖ E2EE –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å",
            "children": []
          },
          {
            "id": "crdt-merge",
            "type": "decision",
            "title": "‚úÖ CRDT merge",
            "children": []
          },
          {
            "id": "declarative-ui",
            "type": "decision",
            "title": "‚úÖ –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π UI",
            "children": []
          },
          {
            "id": "zero-runtime",
            "type": "decision",
            "title": "‚úÖ Zero runtime logic",
            "children": []
          },
          {
            "id": "no-global-state",
            "type": "decision",
            "title": "‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ",
            "children": []
          },
          {
            "id": "virtual-scrolling",
            "type": "decision",
            "title": "‚úÖ Virtual scrolling",
            "children": []
          },
          {
            "id": "web-workers-all",
            "type": "decision",
            "title": "‚úÖ Web Workers –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π",
            "children": []
          },
          {
            "id": "drag-drop-native",
            "type": "decision",
            "title": "‚úÖ –ù–∞—Ç–∏–≤–Ω—ã–π Drag & Drop",
            "children": []
          },
          {
            "id": "markdown-rich",
            "type": "decision",
            "title": "‚úÖ Markdown+ Rich Text",
            "children": []
          },
          {
            "id": "plugin-unified",
            "type": "decision",
            "title": "‚úÖ –ï–¥–∏–Ω–∞—è plugin —Å–∏—Å—Ç–µ–º–∞",
            "children": []
          },
          {
            "id": "composite-blocks",
            "type": "decision",
            "title": "‚úÖ –ö–æ–º–ø–æ–∑–∏—Ç–Ω—ã–µ –±–ª–æ–∫–∏",
            "children": []
          },
          {
            "id": "block-state-json",
            "type": "decision",
            "title": "‚úÖ JSON —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–ª–æ–∫–æ–≤",
            "children": []
          },
          {
            "id": "json-schema",
            "type": "decision",
            "title": "‚úÖ JSON Schema –≤–∞–ª–∏–¥–∞—Ü–∏—è",
            "children": []
          }
        ]
      }
    }
  ]
}
